import{c as a,o as r,n as T,a as e,t as d,r as M,w as j,v as V,b as h,F as b,d as k,e as m,f,g as v,h as S,i as H,j as U,p as O,k as D,l as E}from"./vendor-f378f3a9.js";const y=(i,t)=>{const s=i.__vccOpts||i;for(const[_,o]of t)s[_]=o;return s},N={name:"UIcon",props:{valeur:{required:!0,type:Float64Array}},computed:{affichage:function(){return Util.formattedHeures(this.valeur,!0)}}},q=["innerHTML"];function F(i,t,s,_,o,n){return r(),a("span",{class:"heures",innerHTML:n.affichage},null,8,q)}const z=y(N,[["render",F]]),B=Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"})),$={name:"UIcon",props:{name:{required:!0,type:String},variant:{required:!1,type:String}}};function K(i,t,s,_,o,n){return r(),a("i",{class:T(`fas fa-${s.name} text-${s.variant}`)},null,2)}const w=y($,[["render",K]]),G=Object.freeze(Object.defineProperty({__proto__:null,default:w},Symbol.toStringTag,{value:"Module"})),J={name:"UModal",props:{id:{required:!0,type:String},title:{required:!0,type:String}}},Q=["id"],W={class:"modal-dialog"},X={class:"modal-content"},Y={class:"modal-header"},Z={class:"modal-title"},ee=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),te={class:"modal-body"},ie={class:"modal-footer"},se=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Fermer",-1);function ne(i,t,s,_,o,n){return r(),a("div",{class:"modal fade",id:s.id,tabindex:"-1","aria-hidden":"true"},[e("div",W,[e("div",X,[e("div",Y,[e("h5",Z,d(s.title),1),ee]),e("div",te,[M(i.$slots,"body")]),e("div",ie,[M(i.$slots,"footer"),se])])])],8,Q)}const re=y(J,[["render",ne]]),ae=Object.freeze(Object.defineProperty({__proto__:null,default:re},Symbol.toStringTag,{value:"Module"})),le={name:"Utilisateur",props:{nom:String,mail:String}},oe=["href"];function ue(i,t,s,_,o,n){return r(),a("a",{href:`mailto:${s.mail}`},d(s.nom),9,oe)}const de=y(le,[["render",ue]]),ce=Object.freeze(Object.defineProperty({__proto__:null,default:de},Symbol.toStringTag,{value:"Module"})),me={name:"Recherche",data(){return{searchTerm:"",noResult:0,intervenants:[],checkedTypes:["vacataire","permanent","etudiant"]}},methods:{rechercher:function(i){this.searchTerm=i.currentTarget.value,this.searchTerm==""&&(this.noResult=0),this.searchTerm!=""&&this.reload()},urlFiche(i){return"/intervenant/code:"+i+"/voir"},reload(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(()=>{axios.post(Util.url("intervenant/recherche-json"),{term:this.searchTerm}).then(i=>{let t=i.data,s=[];for(const _ in t){if(t[_].typeIntervenantCode=="E"&&this.checkedTypes.includes("vacataire")){s.push(t[_]);continue}if(t[_].typeIntervenantCode=="P"&&this.checkedTypes.includes("permanent")){s.push(t[_]);continue}if(t[_].typeIntervenantCode=="S"&&this.checkedTypes.includes("etudiant")){s.push(t[_]);continue}}this.intervenants=s,this.intervenants.length==0?this.noResult=1:this.noResult=0}).catch(i=>{console.log(i.message)})},800)}}},he=e("h3",null,"Saisissez le nom suivi éventuellement du prénom (2 lettres minimum)",-1),_e={class:"intervenant-recherche"},ve={class:"critere"},pe=e("br",null,null,-1),fe=e("span",{class:"fw-bold"},"Types d'intervenant : ",-1),be=e("br",null,null,-1),xe={key:0,class:"table table-bordered table-hover"},ye=e("thead",null,[e("tr",null,[e("th",{style:{width:"90px"}}),e("th",null,"Civilité"),e("th",null,"Nom"),e("th",null,"Prenom"),e("th",null,"Structure"),e("th",null,"Statut"),e("th",null,"Date de naissance"),e("th",null,"N° Personnel")])],-1),ge=["title"],ke={style:{}},Ue=["href"],Ce=e("i",{class:"fas fa-eye"},null,-1),Te={key:1,class:"table table-bordered table-hover"},Se=e("thead",null,[e("tr",null,[e("th",{style:{width:"90px"}}),e("th",null,"Civilité"),e("th",null,"Nom"),e("th",null,"Prenom"),e("th",null,"Structure"),e("th",null,"Statut"),e("th",null,"Date de naissance"),e("th",null,"N° Personnel")])],-1),je=e("tbody",null,[e("tr",null,[e("td",{style:{"text-align":"center"},colspan:"8"},"Aucun intervenant trouvé")])],-1),Ve=[Se,je];function Re(i,t,s,_,o,n){return r(),a(b,null,[he,e("div",_e,[e("div",ve,[e("div",null,[e("input",{id:"term",onKeyup:t[0]||(t[0]=(...l)=>n.rechercher&&n.rechercher(...l)),class:"form-control input",type:"text",placeholder:"votre recherche..."},null,32),pe]),e("div",null,[fe,j(e("input",{onChange:t[1]||(t[1]=l=>n.reload()),type:"checkbox",name:"type[]",value:"permanent",checked:"checked","onUpdate:modelValue":t[2]||(t[2]=l=>o.checkedTypes=l)},null,544),[[V,o.checkedTypes]]),h(" Permanent "),j(e("input",{onChange:t[3]||(t[3]=l=>n.reload()),type:"checkbox",name:"type[]",value:"vacataire",checked:"checked","onUpdate:modelValue":t[4]||(t[4]=l=>o.checkedTypes=l)},null,544),[[V,o.checkedTypes]]),h(" Vacataire "),j(e("input",{onChange:t[5]||(t[5]=l=>n.reload()),type:"checkbox",name:"type[]",value:"etudiant",checked:"checked","onUpdate:modelValue":t[6]||(t[6]=l=>o.checkedTypes=l)},null,544),[[V,o.checkedTypes]]),h(" Etudiant ")]),be])]),o.intervenants.length>0?(r(),a("table",xe,[ye,e("tbody",null,[(r(!0),a(b,null,k(o.intervenants,(l,p)=>(r(),a("tr",{class:T({"bg-danger":l.destruction!==null}),title:l.destruction!==null?"Fiche historisé":""},[e("td",ke,[e("a",{href:n.urlFiche(l.code)},[Ce,h(" Fiche")],8,Ue)]),e("td",null,d(l.civilite),1),e("td",null,d(l.nom),1),e("td",null,d(l.prenom),1),e("td",null,d(l.structure),1),e("td",null,d(l.statut),1),e("td",null,d(l["date-naissance"]),1),e("td",null,d(l["numero-personnel"]),1)],10,ge))),256))])])):m("",!0),o.intervenants.length==0&&o.noResult==1?(r(),a("table",Te,Ve)):m("",!0)],64)}const Me=y(me,[["render",Re]]),He=Object.freeze(Object.defineProperty({__proto__:null,default:Me},Symbol.toStringTag,{value:"Module"}));const Ae={name:"Mission",props:{mission:{required:!0}},data(){return{validationText:this.calcValidation(this.mission.validation),saisieUrl:Util.url("mission/saisie/:mission",{mission:this.mission.id}),validerUrl:Util.url("mission/valider/:mission",{mission:this.mission.id}),devaliderUrl:Util.url("mission/devalider/:mission",{mission:this.mission.id}),supprimerUrl:Util.url("mission/supprimer/:mission",{mission:this.mission.id})}},watch:{"mission.validation"(i){this.validationText=this.calcValidation(i)}},computed:{heuresLib:function(){return this.mission.heures===null||this.mission.heures===0?"Aucune heure saisie":this.mission.heures==this.mission.heuresValidees?Util.formattedHeures(this.mission.heures)+" heures (validées)":this.mission.heuresValidees==0?Util.formattedHeures(this.mission.heures)+" heures (non validées)":Util.formattedHeures(this.mission.heures)+" heures ("+Util.formattedHeures(this.mission.heuresValidees)+" validées)"}},methods:{calcValidation(i){return i===null?"A valider":i.id===null?"Autovalidée":"Validation du "+i.histoCreation+" par "},saisie(i){modAjax(i.target,t=>{this.refresh()})},supprimer(i){popConfirm(i.target,t=>{this.$emit("supprimer",this.mission)})},valider(i){popConfirm(i.target,t=>{this.$emit("refresh",t.data)})},devalider(i){popConfirm(i.target,t=>{this.$emit("refresh",t.data)})},volumeHoraireSupprimer(i){i.target.href=Util.url("mission/volume-horaire/supprimer/:missionVolumeHoraire",{missionVolumeHoraire:i.target.dataset.id}),popConfirm(i.target,t=>{this.$emit("refresh",t.data)})},volumeHoraireValider(i){i.target.href=Util.url("mission/volume-horaire/valider/:missionVolumeHoraire",{missionVolumeHoraire:i.target.dataset.id}),popConfirm(i.target,t=>{this.$emit("refresh",t.data)})},volumeHoraireDevalider(i){i.target.href=Util.url("mission/volume-horaire/devalider/:missionVolumeHoraire",{missionVolumeHoraire:i.target.dataset.id}),popConfirm(i.target,t=>{this.$emit("refresh",t.data)})},refresh(){axios.get(Util.url("mission/get/:mission",{mission:this.mission.id})).then(i=>{this.$emit("refresh",i.data)})}}},g=i=>(O("data-v-e757a735"),i=i(),D(),i),Le=["id"],we={class:"card-header card-header-h3"},Ie={class:"float-end"},Pe={class:"card-body"},Oe={class:"row"},De={class:"col-md-8"},Ee={class:"row"},Ne={class:"col-md-12"},qe=g(()=>e("label",{class:"form-label"},"Composante en charge du suivi",-1)),Fe={class:"form-control"},ze={class:"row"},Be={class:"col-md-5"},$e=g(()=>e("label",{class:"form-label"},"Taux de rémunération",-1)),Ke={class:"form-control"},Ge={class:"col-md-7"},Je=g(()=>e("label",{class:"form-label"},"Nombre d'heures prévisionnelles",-1)),Qe={class:"input-group mb-3"},We=["innerHTML"],Xe=["data-bs-target"],Ye={class:"row"},Ze={class:"col-md-12"},et=g(()=>e("label",{class:"form-label"},"Descriptif de la mission",-1)),tt={class:"form-control"},it=g(()=>e("div",{class:"row"},[e("div",{class:"col-md-12"}," ")],-1)),st={class:"row"},nt={class:"col-md-12"},rt=["href"],at=["href"],lt=["href"],ot=["href"],ut={class:"col-md-4"},dt=g(()=>e("div",null,[e("label",{class:"form-label"},"Suivi")],-1)),ct=g(()=>e("div",null," Aucune heure réalisée ",-1)),mt={class:"table table-bordered table-condensed"},ht=g(()=>e("thead",null,[e("tr",null,[e("th",null,"Heures"),e("th",null,"Statut"),e("th",null,"Actions")])],-1)),_t={style:{"text-align":"right"}},vt=g(()=>e("br",null,null,-1)),pt={key:0},ft=["data-id"],bt=["data-id"],xt=["data-id"];function yt(i,t,s,_,o,n){const l=U("u-icon"),p=U("utilisateur"),c=U("u-heures"),x=U("u-modal");return r(),a(b,null,[e("div",{id:s.mission.id,class:T(["card",{"bg-success":s.mission.valide,"bg-default":!s.mission.valide}])},[e("form",{onSubmit:t[4]||(t[4]=f((...u)=>i.submitForm&&i.submitForm(...u),["prevent"]))},[e("div",we,[e("h5",null,[h(d(s.mission.typeMission.libelle)+" ",1),e("span",Ie,"Du "+d(s.mission.dateDebut)+" au "+d(s.mission.dateFin),1)])]),e("div",Pe,[e("div",Oe,[e("div",De,[e("div",Ee,[e("div",Ne,[qe,e("div",Fe,d(s.mission.structure.libelle),1)])]),e("div",ze,[e("div",Be,[$e,e("div",Ke,d(s.mission.tauxRemu.libelle),1)]),e("div",Ge,[Je,e("div",Qe,[e("div",{class:"form-control",innerHTML:n.heuresLib},null,8,We),e("button",{class:"input-group-btn btn btn-secondary","data-bs-toggle":"modal","data-bs-target":`#details-${s.mission.id}`},[v(l,{name:""}),h(" Détails ")],8,Xe)])])]),e("div",Ye,[e("div",Ze,[et,e("div",tt,d(s.mission.description),1)])]),it,e("div",st,[e("div",nt,[s.mission.canSaisie?(r(),a("a",{key:0,href:o.saisieUrl,class:"btn btn-primary",onClick:t[0]||(t[0]=f((...u)=>n.saisie&&n.saisie(...u),["prevent"]))},"Modifier",8,rt)):m("",!0),s.mission.canValider?(r(),a("a",{key:1,href:o.validerUrl,class:"btn btn-secondary","data-title":"Validation de la mission","data-content":"Êtes-vous sur de vouloir valider la mission ?",onClick:t[1]||(t[1]=f((...u)=>n.valider&&n.valider(...u),["prevent"]))},"Valider",8,at)):m("",!0),s.mission.canDevalider?(r(),a("a",{key:2,href:o.devaliderUrl,class:"btn btn-danger","data-title":"Dévalidation de la mission","data-content":"Êtes-vous sur de vouloir dévalider la mission ?",onClick:t[2]||(t[2]=f((...u)=>n.devalider&&n.devalider(...u),["prevent"]))},"Dévalider",8,lt)):m("",!0),s.mission.canSupprimer?(r(),a("a",{key:3,href:o.supprimerUrl,class:"btn btn-danger","data-title":"Suppression de la mission","data-content":"Êtes-vous sur de vouloir supprimer la mission ?",onClick:t[3]||(t[3]=f((...u)=>n.supprimer&&n.supprimer(...u),["prevent"]))},"Supprimer",8,ot)):m("",!0)])])]),e("div",ut,[dt,e("div",null,[v(l,{name:"thumbs-up",variant:"success"}),h(" Créé le "+d(s.mission.histoCreation)+" par ",1),v(p,{nom:s.mission.histoCreateur.displayName,mail:s.mission.histoCreateur.email},null,8,["nom","mail"])]),e("div",null,[v(l,{name:s.mission.valide?"thumbs-up":"thumbs-down",variant:s.mission.valide?"success":"info"},null,8,["name","variant"]),h(" "+d(o.validationText)+" ",1),s.mission.validation&&s.mission.validation.histoCreateur?(r(),S(p,{key:0,nom:s.mission.validation.histoCreateur.displayName,mail:s.mission.validation.histoCreateur.email},null,8,["nom","mail"])):m("",!0)]),e("div",null,[v(l,{name:s.mission.contrat?"thumbs-up":"thumbs-down",variant:s.mission.contrat?"success":"info"},null,8,["name","variant"]),h(" "+d(s.mission.contrat?"Contrat établi":"Pas de contrat"),1)]),ct])])])],32)],10,Le),v(x,{id:`details-${s.mission.id}`,title:"Détail des heures prévisionnelles"},{body:H(()=>[e("table",mt,[ht,e("tbody",null,[(r(!0),a(b,null,k(s.mission.volumesHoraires,u=>(r(),a("tr",{key:u.id},[e("td",_t,[v(c,{valeur:u.heures},null,8,["valeur"])]),e("td",null,[v(l,{name:"thumbs-up",variant:"success"}),h(" Saisi par "),v(p,{nom:u.histoCreateur.displayName,mail:u.histoCreateur.email},null,8,["nom","mail"]),h(" le "+d(u.histoCreation)+" ",1),vt,v(l,{name:u.valide?"thumbs-up":"thumbs-down",variant:u.valide?"success":"info"},null,8,["name","variant"]),h(" "+d(u.validation&&u.validation.id==null?"Autovalidé":u.validation?"":"à valider")+" ",1),u.validation&&u.validation.histoCreateur?(r(),a("span",pt,[h(" Validé par "),v(p,{nom:u.validation.histoCreateur.displayName,mail:u.validation.histoCreateur.email},null,8,["nom","mail"]),h(" le "+d(u.validation.histoCreation),1)])):m("",!0)]),e("td",null,[u.canValider?(r(),a("a",{key:0,class:"btn btn-secondary","data-id":u.id,"data-title":"Validation du volume horaire","data-content":"Êtes-vous sur de vouloir valider ce volume horaire ?",onClick:t[5]||(t[5]=f((...C)=>n.volumeHoraireValider&&n.volumeHoraireValider(...C),["prevent"]))},"Valider",8,ft)):m("",!0),u.canDevalider?(r(),a("a",{key:1,class:"btn btn-danger","data-id":u.id,"data-title":"Dévalidation du volume horaire","data-content":"Êtes-vous sur de vouloir dévalider ce volume horaire ?",onClick:t[6]||(t[6]=f((...C)=>n.volumeHoraireDevalider&&n.volumeHoraireDevalider(...C),["prevent"]))},"Dévalider",8,bt)):m("",!0),u.canSupprimer?(r(),a("a",{key:2,class:"btn btn-danger","data-id":u.id,"data-title":"Suppression du volume horaire","data-content":"Êtes-vous sur de vouloir supprimer le volume horaire ?",onClick:t[7]||(t[7]=f((...C)=>n.volumeHoraireSupprimer&&n.volumeHoraireSupprimer(...C),["prevent"]))},"Supprimer",8,xt)):m("",!0)])]))),128))])])]),footer:H(()=>[]),_:1},8,["id"])],64)}const I=y(Ae,[["render",yt],["__scopeId","data-v-e757a735"]]),gt=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"})),kt={components:{mission:I},props:{intervenant:{type:Number,required:!0},canAddMission:{type:Boolean,required:!0}},data(){return{missions:[],ajoutUrl:Util.url("mission/ajout/:intervenant",{intervenant:this.intervenant})}},mounted(){this.reload()},methods:{ajout(i){modAjax(i.target,t=>{this.reload()})},supprimer(i){this.reload()},refresh(i){console.log(i);let t=Util.json.indexById(this.missions,i.id);this.missions[t]=i},reload(){axios.get(Util.url("mission/liste/:intervenant",{intervenant:this.intervenant})).then(i=>{this.missions=i.data})}}},Ut=["href"];function Ct(i,t,s,_,o,n){const l=U("mission");return r(),a(b,null,[(r(!0),a(b,null,k(o.missions,p=>(r(),S(l,{onSupprimer:n.supprimer,onRefresh:n.refresh,key:p.id,mission:p},null,8,["onSupprimer","onRefresh","mission"]))),128)),s.canAddMission?(r(),a("a",{key:0,class:"btn btn-primary",href:o.ajoutUrl,onClick:t[0]||(t[0]=f((...p)=>n.ajout&&n.ajout(...p),["prevent"]))},"Ajout d'une nouvelle mission",8,Ut)):m("",!0)],64)}const Tt=y(kt,[["render",Ct]]),St=Object.freeze(Object.defineProperty({__proto__:null,default:Tt},Symbol.toStringTag,{value:"Module"})),jt={name:"Taux",components:{UIcon:w},props:{taux:{required:!0},listeTaux:{required:!0}},data(){return{saisieUrl:Util.url("taux/saisir/:tauxRemu",{tauxRemu:this.taux.id}),supprimerUrl:Util.url("taux/supprimer/:tauxRemu",{tauxRemu:this.taux.id}),ajoutValeurUrl:Util.url("taux/saisir-valeur/:tauxRemu",{tauxRemu:this.taux.id})}},methods:{saisie(i){modAjax(i.target,t=>{this.$emit("refreshListe")})},ajoutValeur(i){modAjax(i.target,t=>{this.$emit("refreshListe")})},saisieValeur(i){let t=i.target.parentElement;t.href=Util.url("taux/saisir-valeur/:tauxRemu/:tauxRemuValeur",{tauxRemu:this.taux.id,tauxRemuValeur:t.dataset.id}),modAjax(t,s=>{this.$emit("refreshListe")})},refreshListe(i){this.$emit("refreshListe")},supprimer(i){popConfirm(i.target,t=>{this.$emit("refreshListe")})},supprimerValeur(i){let t=i.target.parentElement;t.href=Util.url("taux/supprimer-valeur/:tauxRemuValeur",{tauxRemuValeur:t.dataset.id}),popConfirm(t,s=>{this.$emit("refreshListe")})},refresh(i){axios.get(Util.url("taux/get/:tauxRemu",{tauxRemu:i.id})).then(t=>{this.$emit("refresh",t.data)})}}},Vt={class:"card-header"},Rt={style:{display:"inline"}},Mt={class:"float-end"},Ht=["href"],At=["href"],Lt={class:"card-body"},wt={key:0},It=e("br",null,null,-1),Pt={class:""},Ot={class:"row align-items-start"},Dt={class:"col-md-4"},Et={class:"col"},Nt=["data-id"],qt=["data-id"],Ft=["href"],zt={key:1,class:"row"},Bt={class:"col-md-7"},$t=e("br",null,null,-1),Kt={class:"row align-items-start"},Gt={class:"col-md-8"},Jt={class:"col-md-auto"},Qt=["data-id"],Wt=["data-id"],Xt=["href"],Yt={class:"col"},Zt=e("br",null,null,-1),ei={key:0},ti={key:0};function ii(i,t,s,_,o,n){const l=U("u-icon"),p=U("taux",!0);return r(),a(b,null,[e("div",{class:T(["card",{"ms-5":s.taux.tauxRemu}])},[e("div",Vt,[e("h3",Rt,d(s.taux.libelle)+" ("+d(s.taux.code)+")",1),e("div",Mt,[s.taux.canEdit?(r(),a("a",{key:0,href:o.saisieUrl,class:"btn btn-primary",onClick:t[0]||(t[0]=f((...c)=>n.saisie&&n.saisie(...c),["prevent"]))},[v(l,{name:"pen-to-square"}),h(" Modifier")],8,Ht)):m("",!0),h("   "),s.taux.canDelete?(r(),a("a",{key:1,href:o.supprimerUrl,class:"btn btn-danger",onClick:t[1]||(t[1]=f((...c)=>n.supprimer&&n.supprimer(...c),["prevent"]))},[v(l,{name:"trash-can"}),h(" Supprimer")],8,At)):m("",!0)])]),e("div",Lt,[s.taux.tauxRemu?m("",!0):(r(),a("div",wt,[h(" Modification :"),It,e("ul",null,[(r(!0),a(b,null,k(s.taux.tauxRemuValeurs,c=>(r(),a("div",{key:c.id},[e("li",Pt,[e("div",Ot,[e("div",Dt,d(c.valeur)+"€/h à partir du "+d(c.dateEffet),1),e("div",Et,[s.taux.canEdit?(r(),a("a",{key:0,class:"text-primary",onClick:t[2]||(t[2]=f((...x)=>n.saisieValeur&&n.saisieValeur(...x),["prevent"])),"data-id":c.id},[v(l,{name:"pen-to-square"})],8,Nt)):m("",!0),h("   "),s.taux.canEdit?(r(),a("a",{key:1,class:"text-primary",onClick:t[3]||(t[3]=f((...x)=>n.supprimerValeur&&n.supprimerValeur(...x),["prevent"])),"data-id":c.id},[v(l,{name:"trash-can"})],8,qt)):m("",!0)])])])]))),128))]),s.taux.canEdit?(r(),a("a",{key:0,href:o.ajoutValeurUrl,class:"btn btn-primary btn-sm",onClick:t[4]||(t[4]=f((...c)=>n.ajoutValeur&&n.ajoutValeur(...c),["prevent"]))},[v(l,{name:"plus"}),h(" Ajouter une valeur ")],8,Ft)):m("",!0)])),s.taux.tauxRemu?(r(),a("div",zt,[e("div",Bt,[h(" Modification :"),$t,e("ul",null,[(r(!0),a(b,null,k(s.taux.tauxRemuValeurs,c=>(r(),a("div",null,[e("li",null,[e("div",Kt,[e("div",Gt," Coéfficient de "+d(c.valeur)+" à partir du "+d(c.dateEffet),1),e("div",Jt,[s.taux.canEdit?(r(),a("a",{key:0,class:"text-primary",onClick:t[5]||(t[5]=f((...x)=>n.saisieValeur&&n.saisieValeur(...x),["prevent"])),"data-id":c.id},[v(l,{name:"pen-to-square"})],8,Qt)):m("",!0),h("   "),s.taux.canEdit?(r(),a("a",{key:1,class:"text-primary",onClick:t[6]||(t[6]=f((...x)=>n.supprimerValeur&&n.supprimerValeur(...x),["prevent"])),"data-id":c.id},[v(l,{name:"trash-can"})],8,Wt)):m("",!0)])])])]))),256))]),s.taux.canEdit?(r(),a("a",{key:0,href:o.ajoutValeurUrl,class:"btn btn-primary btn-sm",onClick:t[7]||(t[7]=f((...c)=>n.ajoutValeur&&n.ajoutValeur(...c),["prevent"]))},[v(l,{name:"plus"})],8,Xt)):m("",!0)]),e("div",Yt,[h(" Valeurs calculées (indexées sur le taux "+d(s.taux.tauxRemu.libelle)+") : ",1),e("ul",null,[(r(!0),a(b,null,k(s.taux.tauxRemuValeursIndex,c=>(r(),a("div",null,[e("li",null,d(c.valeur)+"€/h à partir du "+d(c.date),1)]))),256))]),Zt])])):m("",!0)])],2),s.taux.tauxRemu?m("",!0):(r(),a("div",ei,[(r(!0),a(b,null,k(s.listeTaux,c=>(r(),a("div",{key:c},[c.tauxRemu&&c.tauxRemu.id===s.taux.id?(r(),a("div",ti,[(r(),S(p,{onSupprimer:n.supprimer,onRefreshListe:n.refreshListe,key:s.taux.id,taux:c,listeTaux:s.listeTaux},null,8,["onSupprimer","onRefreshListe","taux","listeTaux"]))])):m("",!0)]))),128))]))],64)}const P=y(jt,[["render",ii]]),si=Object.freeze(Object.defineProperty({__proto__:null,default:P},Symbol.toStringTag,{value:"Module"})),ni={components:{taux:P},props:{canEditTaux:{type:Boolean,required:!0}},data(){return{listeTaux:[],ajoutUrl:Util.url("taux/saisir")}},mounted(){this.reload()},methods:{ajout(i){modAjax(i.target,t=>{this.reload()})},supprimer(){this.reload()},refreshListe(){this.reload()},refresh(i){let t=Util.json.indexById(this.listeTaux,i.id);this.listeTaux[t]=i},reload(){axios.get(Util.url("taux/liste-taux")).then(i=>{this.listeTaux=i.data})}}},ri=["href"];function ai(i,t,s,_,o,n){const l=U("taux");return r(),a(b,null,[(r(!0),a(b,null,k(o.listeTaux,p=>(r(),a("div",null,[p.tauxRemu?m("",!0):(r(),S(l,{onSupprimer:n.supprimer,onRefreshListe:n.refreshListe,key:p.id,taux:p,listeTaux:o.listeTaux},null,8,["onSupprimer","onRefreshListe","taux","listeTaux"]))]))),256)),s.canEditTaux?(r(),a("a",{key:0,class:"btn btn-primary",href:o.ajoutUrl,onClick:t[0]||(t[0]=f((...p)=>n.ajout&&n.ajout(...p),["prevent"]))},"Ajout d'un nouveau taux",8,ri)):m("",!0)],64)}const li=y(ni,[["render",ai]]),oi=Object.freeze(Object.defineProperty({__proto__:null,default:li},Symbol.toStringTag,{value:"Module"})),A={uIcon:"Application/UI/UIcon",uHeures:"Application/UI/UHeures",uModal:"Application/UI/UModal",utilisateur:"Application/Utilisateur"},L=Object.assign({"./Application/UI/UHeures.vue":B,"./Application/UI/UIcon.vue":G,"./Application/UI/UModal.vue":ae,"./Application/Utilisateur.vue":ce,"./Intervenant/Recherche.vue":He,"./Mission/Liste.vue":St,"./Mission/Mission.vue":gt,"./Paiement/ListeTaux.vue":oi,"./Paiement/Taux.vue":si});let ui="./";const R={};for(const i in L){let s=i.slice(ui.length,-4).replace("/","");R[s]=L[i].default}for(const i of document.getElementsByClassName("vue-app")){let t=E({template:i.innerHTML,components:R});for(const s in A){let _=A[s].replace("/","");t.component(s,R[_])}t.mount(i)}
