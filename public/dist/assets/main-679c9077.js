import{c as a,o as s,t as _,a as n,w as j,v as w,b as u,F as g,r as y,d,n as T,e as f,f as E,g as p,h as k,i as q,j as S,p as z,k as G,l as O,m as Y,q as J,s as Q,u as W,x as X}from"./vendor-aed55673.js";const x=(e,t)=>{const i=e.__vccOpts||e;for(const[h,l]of t)i[h]=l;return i},Z={props:{valeur:{required:!0,type:Number}},computed:{affichage:function(){return Util.formattedHeures(this.valeur,!0)}}},K=["innerHTML"];function ee(e,t,i,h,l,r){return s(),a("span",{class:"heures",innerHTML:r.affichage},null,8,K)}const te=x(Z,[["render",ee]]),ie=Object.freeze(Object.defineProperty({__proto__:null,default:te},Symbol.toStringTag,{value:"Module"})),ne={name:"Utilisateur",props:{nom:String,mail:String}},re=["href"];function se(e,t,i,h,l,r){return s(),a("a",{href:`mailto:${i.mail}`},_(i.nom),9,re)}const ae=x(ne,[["render",se]]),le=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"})),oe={name:"UDate",props:{value:{required:!1,type:[String,Date]},format:{required:!1,type:String}},mounted(){this.formatted=this.formatage(this.value)},data(){return{formatted:void 0}},watch:{value:function(e){this.formatted=this.formatage(e)}},methods:{formatage(e){if(e===void 0)return;let t=new Date(e);const i=t.getFullYear(),h=(t.getMonth()+1).toString().padStart(2,"0"),l=t.getDate().toString().padStart(2,"0"),r=t.getHours().toString().padStart(2,"0"),m=t.getMinutes().toString().padStart(2,"0"),o=t.getSeconds().toString().padStart(2,"0");switch(this.format){case"datetime":return`${l}/${h}/${i} à ${r}:${m}`;case"time":return`${r}:${m}:${o}`}return`${l}/${h}/${i}`}}};function ue(e,t,i,h,l,r){return _(l.formatted)}const U=x(oe,[["render",ue]]),de={name:"Recherche",data(){return{searchTerm:"",noResult:0,intervenants:[],checkedTypes:["vacataire","permanent","etudiant"]}},mixins:[Util],methods:{rechercher:function(e){this.searchTerm=e.currentTarget.value,this.searchTerm==""&&(this.noResult=0),this.searchTerm!=""&&this.reload()},urlFiche(e){return unicaenVue.url("intervenant/code:"+e+"/voir")},reload(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(()=>{unicaenVue.axios.post(unicaenVue.url("intervenant/recherche-json"),{term:this.searchTerm}).then(e=>{let t=e.data,i=[];for(const h in t){if(t[h].typeIntervenantCode=="E"&&this.checkedTypes.includes("vacataire")){i.push(t[h]);continue}if(t[h].typeIntervenantCode=="P"&&this.checkedTypes.includes("permanent")){i.push(t[h]);continue}if(t[h].typeIntervenantCode=="S"&&this.checkedTypes.includes("etudiant")){i.push(t[h]);continue}}this.intervenants=i,this.intervenants.length==0?this.noResult=1:this.noResult=0}).catch(e=>{console.log(e.message)})},800)}}},ce=n("h3",null,"Saisissez le nom suivi éventuellement du prénom (2 lettres minimum)",-1),me={class:"intervenant-recherche"},he={class:"critere"},fe=n("br",null,null,-1),_e=n("span",{class:"fw-bold"},"Types d'intervenant : ",-1),ve=n("br",null,null,-1),pe={key:0,class:"table table-bordered table-hover"},be=n("thead",null,[n("tr",null,[n("th",{style:{width:"90px"}}),n("th",null,"Civilité"),n("th",null,"Nom"),n("th",null,"Prenom"),n("th",null,"Structure"),n("th",null,"Statut"),n("th",null,"Date de naissance"),n("th",null,"N° Personnel")])],-1),ge=["title"],ye={style:{}},xe=["href"],Ve=n("i",{class:"fas fa-eye"},null,-1),Ce={key:1,class:"table table-bordered table-hover"},ke=n("thead",null,[n("tr",null,[n("th",{style:{width:"90px"}}),n("th",null,"Civilité"),n("th",null,"Nom"),n("th",null,"Prenom"),n("th",null,"Structure"),n("th",null,"Statut"),n("th",null,"Date de naissance"),n("th",null,"N° Personnel")])],-1),Se=n("tbody",null,[n("tr",null,[n("td",{colspan:"8",style:{"text-align":"center"}},"Aucun intervenant trouvé")])],-1),Te=[ke,Se];function Me(e,t,i,h,l,r){const m=U;return s(),a(g,null,[ce,n("div",me,[n("div",he,[n("div",null,[n("input",{id:"term",class:"form-control input",placeholder:"votre recherche...",type:"text",onKeyup:t[0]||(t[0]=(...o)=>r.rechercher&&r.rechercher(...o))},null,32),fe]),n("div",null,[_e,j(n("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>l.checkedTypes=o),checked:"checked",name:"type[]",type:"checkbox",value:"permanent",onChange:t[2]||(t[2]=o=>r.reload())},null,544),[[w,l.checkedTypes]]),u(" Permanent "),j(n("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>l.checkedTypes=o),checked:"checked",name:"type[]",type:"checkbox",value:"vacataire",onChange:t[4]||(t[4]=o=>r.reload())},null,544),[[w,l.checkedTypes]]),u(" Vacataire "),j(n("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>l.checkedTypes=o),checked:"checked",name:"type[]",type:"checkbox",value:"etudiant",onChange:t[6]||(t[6]=o=>r.reload())},null,544),[[w,l.checkedTypes]]),u(" Etudiant ")]),ve])]),l.intervenants.length>0?(s(),a("table",pe,[be,n("tbody",null,[(s(!0),a(g,null,y(l.intervenants,(o,c)=>(s(),a("tr",{class:T({"bg-danger":o.destruction!==null}),title:o.destruction!==null?"Fiche historisé":""},[n("td",ye,[n("a",{href:r.urlFiche(o.code)},[Ve,u(" Fiche")],8,xe)]),n("td",null,_(o.civilite),1),n("td",null,_(o.nom),1),n("td",null,_(o.prenom),1),n("td",null,_(o.structure),1),n("td",null,_(o.statut),1),n("td",null,[f(m,{value:o["date-naissance"]},null,8,["value"])]),n("td",null,_(o["numero-personnel"]),1)],10,ge))),256))])])):d("",!0),l.intervenants.length==0&&l.noResult==1?(s(),a("table",Ce,Te)):d("",!0)],64)}const je=x(de,[["render",Me]]),Ue=Object.freeze(Object.defineProperty({__proto__:null,default:je},Symbol.toStringTag,{value:"Module"})),De={name:"UModal",props:{id:{required:!0,type:String},title:{required:!0,type:String}}},we=["id"],Re={class:"modal-dialog"},Ae={class:"modal-content"},Pe={class:"modal-header"},Ee={class:"modal-title"},qe=n("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Oe={class:"modal-body"},Le={class:"modal-footer"},He=n("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Fermer",-1);function Fe(e,t,i,h,l,r){return s(),a("div",{class:"modal fade",id:i.id,tabindex:"-1","aria-hidden":"true"},[n("div",Re,[n("div",Ae,[n("div",Pe,[n("h5",Ee,_(i.title),1),qe]),n("div",Oe,[E(e.$slots,"body")]),n("div",Le,[E(e.$slots,"footer"),He])])])],8,we)}const Ne=x(De,[["render",Fe]]),$e={name:"UIcon",props:{name:{required:!0,type:String},variant:{required:!1,type:String}}};function Be(e,t,i,h,l,r){return s(),a("i",{class:T(`fas fa-${i.name} text-${i.variant}`)},null,2)}const M=x($e,[["render",Be]]);const Ie={name:"Mission",props:{mission:{required:!0}},data(){return{validationText:this.calcValidation(this.mission.validation),saisieUrl:unicaenVue.url("mission/saisie/:mission",{mission:this.mission.id}),validerUrl:unicaenVue.url("mission/valider/:mission",{mission:this.mission.id}),devaliderUrl:unicaenVue.url("mission/devalider/:mission",{mission:this.mission.id}),supprimerUrl:unicaenVue.url("mission/supprimer/:mission",{mission:this.mission.id})}},watch:{"mission.validation"(e){this.validationText=this.calcValidation(e)}},computed:{heuresLib:function(){return this.mission.heures===null||this.mission.heures===0?"Aucune heure saisie":this.mission.heures==this.mission.heuresValidees?Util.formattedHeures(this.mission.heures)+" heures (validées)":this.mission.heuresValidees==0?Util.formattedHeures(this.mission.heures)+" heures (non validées)":'<span class="bg-info">'+Util.formattedHeures(this.mission.heures)+"</span> heures ("+Util.formattedHeures(this.mission.heuresValidees)+" validées)"}},methods:{calcValidation(e){return e===null?"A valider":e.id===null?"Autovalidée":"Validation du "+Util.dateToString(e.histoCreation)+" par "},saisie(e){modAjax(e.currentTarget,t=>{this.refresh()})},supprimer(e){popConfirm(e.currentTarget,t=>{this.$emit("supprimer",this.mission)})},valider(e){popConfirm(e.currentTarget,t=>{this.$emit("refresh",t.data)})},devalider(e){popConfirm(e.currentTarget,t=>{this.$emit("refresh",t.data)})},volumeHoraireSupprimer(e){e.currentTarget.href=unicaenVue.url("mission/volume-horaire/supprimer/:missionVolumeHoraire",{missionVolumeHoraire:e.currentTarget.dataset.id}),popConfirm(e.currentTarget,t=>{this.$emit("refresh",t.data)})},volumeHoraireValider(e){e.currentTarget.href=unicaenVue.url("mission/volume-horaire/valider/:missionVolumeHoraire",{missionVolumeHoraire:e.currentTarget.dataset.id}),popConfirm(e.currentTarget,t=>{this.$emit("refresh",t.data)})},volumeHoraireDevalider(e){e.currentTarget.href=unicaenVue.url("mission/volume-horaire/devalider/:missionVolumeHoraire",{missionVolumeHoraire:e.currentTarget.dataset.id}),popConfirm(e.currentTarget,t=>{this.$emit("refresh",t.data)})},refresh(){unicaenVue.axios.get(unicaenVue.url("mission/get/:mission",{mission:this.mission.id})).then(e=>{this.$emit("refresh",e.data)})}}},C=e=>(z("data-v-1735108d"),e=e(),G(),e),ze=["id"],Ge={class:"card-header card-header-h3"},Ye={key:0},Je={class:"float-end"},Qe={key:1},We={key:2},Xe={class:"float-end"},Ze={class:"card-body"},Ke={class:"row"},et={class:"col-md-8"},tt={class:"row"},it={class:"col-md-12"},nt=C(()=>n("label",{class:"form-label"},"Composante en charge du suivi",-1)),rt={class:"form-control"},st={class:"row"},at={class:"col-md-6"},lt=C(()=>n("label",{class:"form-label"},"Taux de rémunération",-1)),ot={class:"form-control"},ut={class:"col-md-6"},dt=C(()=>n("label",{class:"form-label"},"Taux majoré (dimanches/jours fériés)",-1)),ct={class:"form-control"},mt={class:"col-md-7"},ht=C(()=>n("label",{class:"form-label"},"Nombre d'heures prévisionnelles",-1)),ft={class:"input-group mb-3"},_t=["innerHTML"],vt=["data-bs-target"],pt={key:0,class:"col-md-5"},bt=C(()=>n("label",{class:"form-label"},"Heures de formation prévues",-1)),gt={class:"form-control"},yt={class:"row"},xt={class:"col-md-12"},Vt=C(()=>n("label",{class:"form-label"},"Descriptif de la mission",-1)),Ct={class:"form-control"},kt={key:0,class:"row"},St={class:"col-md-12"},Tt=C(()=>n("label",{class:"form-label"},"Etudiants suivis",-1)),Mt={class:"form-control"},jt=C(()=>n("div",{class:"row"},[n("div",{class:"col-md-12"}," ")],-1)),Ut={class:"row"},Dt={class:"col-md-12"},wt=["href"],Rt=["href"],At=["href"],Pt=["href"],Et={class:"col-md-4"},qt=C(()=>n("div",null,[n("label",{class:"form-label"},"Suivi")],-1)),Ot={class:"table table-bordered table-condensed"},Lt=C(()=>n("thead",null,[n("tr",null,[n("th",null,"Heures"),n("th",null,"Statut"),n("th",null,"Actions")])],-1)),Ht={style:{"text-align":"right"}},Ft=C(()=>n("br",null,null,-1)),Nt={key:0},$t=["data-id"],Bt=["data-id"],It=["data-id"];function zt(e,t,i,h,l,r){const m=U,o=M,c=S("utilisateur"),V=S("u-heures"),b=Ne;return s(),a(g,null,[n("div",{id:i.mission.id,class:T([{"bg-success":i.mission.valide,"bg-default":!i.mission.valide},"card"])},[n("form",{onSubmit:t[4]||(t[4]=p((...v)=>e.submitForm&&e.submitForm(...v),["prevent"]))},[n("div",Ge,[i.mission.libelleMission?(s(),a("h5",Ye,[u(_(i.mission.libelleMission)+" ",1),n("span",Je,[u("Du "),f(m,{value:i.mission.dateDebut},null,8,["value"]),u(" au "),f(m,{value:i.mission.dateFin},null,8,["value"])])])):d("",!0),i.mission.libelleMission?(s(),a("h6",Qe,_(i.mission.typeMission.libelle),1)):d("",!0),i.mission.libelleMission?d("",!0):(s(),a("h5",We,[u(_(i.mission.typeMission.libelle)+" ",1),n("span",Xe,[u("Du "),f(m,{value:i.mission.dateDebut},null,8,["value"]),u(" au "),f(m,{value:i.mission.dateFin},null,8,["value"])])]))]),n("div",Ze,[n("div",Ke,[n("div",et,[n("div",tt,[n("div",it,[nt,n("div",rt,_(i.mission.structure.libelle),1)])]),n("div",st,[n("div",at,[lt,n("div",ot,_(i.mission.tauxRemu?i.mission.tauxRemu.libelle:null),1)]),n("div",ut,[dt,n("div",ct,_(i.mission.tauxRemuMajore?i.mission.tauxRemuMajore.libelle:i.mission.tauxRemu?"Idem ("+i.mission.tauxRemu.libelle+")":null),1)]),n("div",mt,[ht,n("div",ft,[n("div",{class:"form-control",innerHTML:r.heuresLib},null,8,_t),n("button",{"data-bs-target":`#details-${i.mission.id}`,class:"input-group-btn btn btn-secondary","data-bs-toggle":"modal"}," Détails ",8,vt)])]),i.mission.typeMission.besoinFormation?(s(),a("div",pt,[bt,n("div",gt,_(i.mission.heuresFormation),1)])):d("",!0)]),n("div",yt,[n("div",xt,[Vt,n("div",Ct,_(i.mission.description),1)])]),i.mission.typeMission.accompagnementEtudiants?(s(),a("div",kt,[n("div",St,[Tt,n("div",Mt,[n("pre",null,_(i.mission.etudiantsSuivis),1)])])])):d("",!0),jt,n("div",Ut,[n("div",Dt,[i.mission.canSaisie?(s(),a("a",{key:0,href:l.saisieUrl,class:"btn btn-primary",onClick:t[0]||(t[0]=p((...v)=>r.saisie&&r.saisie(...v),["prevent"]))},"Modifier",8,wt)):d("",!0),i.mission.canValider?(s(),a("a",{key:1,href:l.validerUrl,class:"btn btn-secondary","data-content":"Êtes-vous sur de vouloir valider la mission ?","data-title":"Validation de la mission",onClick:t[1]||(t[1]=p((...v)=>r.valider&&r.valider(...v),["prevent"]))},"Valider",8,Rt)):d("",!0),i.mission.canDevalider?(s(),a("a",{key:2,href:l.devaliderUrl,class:"btn btn-danger","data-content":"Êtes-vous sur de vouloir dévalider la mission ?","data-title":"Dévalidation de la mission",onClick:t[2]||(t[2]=p((...v)=>r.devalider&&r.devalider(...v),["prevent"]))},"Dévalider",8,At)):d("",!0),i.mission.canSupprimer?(s(),a("a",{key:3,href:l.supprimerUrl,class:"btn btn-danger","data-content":"Êtes-vous sur de vouloir supprimer la mission ?","data-title":"Suppression de la mission",onClick:t[3]||(t[3]=p((...v)=>r.supprimer&&r.supprimer(...v),["prevent"]))},"Supprimer",8,Pt)):d("",!0)])])]),n("div",Et,[qt,n("div",null,[f(o,{name:"thumbs-up",variant:"success"}),u(" Créé le "),f(m,{value:i.mission.histoCreation},null,8,["value"]),u(" par "),f(c,{mail:i.mission.histoCreateur.email,nom:i.mission.histoCreateur.displayName},null,8,["mail","nom"])]),n("div",null,[f(o,{name:i.mission.valide?"thumbs-up":"thumbs-down",variant:i.mission.valide?"success":"info"},null,8,["name","variant"]),u(" "+_(l.validationText)+" ",1),i.mission.validation&&i.mission.validation.histoCreateur?(s(),k(c,{key:0,mail:i.mission.validation.histoCreateur.email,nom:i.mission.validation.histoCreateur.displayName},null,8,["mail","nom"])):d("",!0)]),n("div",null,[f(o,{name:i.mission.contrat?"thumbs-up":"thumbs-down",variant:i.mission.contrat?"success":"info"},null,8,["name","variant"]),u(" "+_(i.mission.contrat?"Contrat établi":"Pas de contrat"),1)]),n("div",null,_(i.mission.heuresRealisees)+" heure"+_(i.mission.heuresRealisees<2?"":"s")+" réalisée"+_(i.mission.heuresRealisees<2?"":"s"),1)])])])],32)],10,ze),f(b,{id:`details-${i.mission.id}`,title:"Détail des heures prévisionnelles"},{body:q(()=>[n("table",Ot,[Lt,n("tbody",null,[(s(!0),a(g,null,y(i.mission.volumesHorairesPrevus,v=>(s(),a("tr",{key:v.id},[n("td",Ht,[f(V,{valeur:v.heures},null,8,["valeur"])]),n("td",null,[f(o,{name:"thumbs-up",variant:"success"}),u(" Saisi par "),f(c,{mail:v.histoCreateur.email,nom:v.histoCreateur.displayName},null,8,["mail","nom"]),u(" le "),f(m,{value:v.histoCreation},null,8,["value"]),Ft,f(o,{name:v.valide?"thumbs-up":"thumbs-down",variant:v.valide?"success":"info"},null,8,["name","variant"]),u(" "+_(v.validation&&v.validation.id==null?"Autovalidé":v.validation?"":"à valider")+" ",1),v.validation&&v.validation.histoCreateur?(s(),a("span",Nt,[u(" Validé par "),f(c,{mail:v.validation.histoCreateur.email,nom:v.validation.histoCreateur.displayName},null,8,["mail","nom"]),u(" le "),f(m,{value:v.validation.histoCreation},null,8,["value"])])):d("",!0)]),n("td",null,[v.canValider?(s(),a("a",{key:0,"data-id":v.id,class:"btn btn-secondary","data-content":"Êtes-vous sur de vouloir valider ce volume horaire ?","data-title":"Validation du volume horaire",onClick:t[5]||(t[5]=p((...D)=>r.volumeHoraireValider&&r.volumeHoraireValider(...D),["prevent"]))},"Valider",8,$t)):d("",!0),v.canDevalider?(s(),a("a",{key:1,"data-id":v.id,class:"btn btn-danger","data-content":"Êtes-vous sur de vouloir dévalider ce volume horaire ?","data-title":"Dévalidation du volume horaire",onClick:t[6]||(t[6]=p((...D)=>r.volumeHoraireDevalider&&r.volumeHoraireDevalider(...D),["prevent"]))},"Dévalider",8,Bt)):d("",!0),v.canSupprimer?(s(),a("a",{key:2,"data-id":v.id,class:"btn btn-danger","data-content":"Êtes-vous sur de vouloir supprimer le volume horaire ?","data-title":"Suppression du volume horaire",onClick:t[7]||(t[7]=p((...D)=>r.volumeHoraireSupprimer&&r.volumeHoraireSupprimer(...D),["prevent"]))},"Supprimer",8,It)):d("",!0)])]))),128))])])]),footer:q(()=>[]),_:1},8,["id"])],64)}const L=x(Ie,[["render",zt],["__scopeId","data-v-1735108d"]]),Gt=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"})),Yt={components:{mission:L},props:{intervenant:{type:Number,required:!0},canAddMission:{type:Boolean,required:!0}},data(){return{missions:[],isMounted:!1,ajoutUrl:unicaenVue.url("mission/ajout/:intervenant",{intervenant:this.intervenant})}},mounted(){this.reload()},methods:{ajout(e){modAjax(e.currentTarget,t=>{this.reload()})},supprimer(e){this.reload()},refresh(e){let t=Util.json.indexById(this.missions,e.id);this.missions[t]=e,this.refreshPlafonds()},reload(){unicaenVue.axios.get(unicaenVue.url("mission/liste/:intervenant",{intervenant:this.intervenant})).then(e=>{this.missions=e.data,this.refreshPlafonds()})},refreshPlafonds(){this.isMounted?($(".plafonds").refresh(),$("#sidebar").refresh()):this.isMounted=!0}}},Jt=["href"];function Qt(e,t,i,h,l,r){const m=S("mission");return s(),a(g,null,[(s(!0),a(g,null,y(l.missions,o=>(s(),k(m,{onSupprimer:r.supprimer,onRefresh:r.refresh,key:o.id,mission:o},null,8,["onSupprimer","onRefresh","mission"]))),128)),i.canAddMission?(s(),a("a",{key:0,class:"btn btn-primary",href:l.ajoutUrl,onClick:t[0]||(t[0]=p((...o)=>r.ajout&&r.ajout(...o),["prevent"]))},"Ajout d'une nouvelle mission",8,Jt)):d("",!0)],64)}const Wt=x(Yt,[["render",Qt]]),Xt=Object.freeze(Object.defineProperty({__proto__:null,default:Wt},Symbol.toStringTag,{value:"Module"})),Zt={name:"ListeCandidatures.vue",props:{intervenant:{required:!0},canValiderCandidature:{type:Boolean,required:!1}},data(){return{candidatures:[],urlListeOffre:unicaenVue.url("offre-emploi")}},mounted(){this.reload()},methods:{reload(){unicaenVue.axios.get(unicaenVue.url("intervenant/:intervenant/get-candidatures",{intervenant:this.intervenant})).then(e=>{this.candidatures=e.data})},validerCandidature(e){modAjax(e.currentTarget,t=>{this.reload()})},refuserCandidature(e){popConfirm(e.target,t=>{this.reload()})},urlOffre(e){return unicaenVue.url("offre-emploi/detail/:offre",{offre:e.offre.id})},urlAccepterCandidature:function(e){return unicaenVue.url("offre-emploi/accepter-candidature/:id",{id:e.id})},urlRefuserCandidature:function(e){return unicaenVue.url("offre-emploi/refuser-candidature/:id",{id:e.id})}}},Kt={class:"table table-bordered"},ei=n("th",null,"Offre d'emploi",-1),ti=n("th",null,"Composante",-1),ii=n("th",null,"Etat",-1),ni=n("th",null,"Date commission",-1),ri={key:0},si={key:0},ai={key:0,colspan:"5",style:{"text-align":"center"}},li={style:{"text-align":"center"}},oi=["href"],ui={style:{"text-align":"center"}},di={style:{"text-align":"center"}},ci={key:0,class:"badge rounded-pill bg-success"},mi={key:1,class:"badge rounded-pill bg-danger"},hi={key:2,class:"badge rounded-pill bg-warning"},fi={key:0,style:{"text-align":"center"}},_i=["href"],vi=n("i",{class:"fa-solid fa-check"},null,-1),pi=[vi],bi=["href"],gi=n("i",{class:"fa-sharp fa-solid fa-xmark"},null,-1),yi=[gi],xi=["href"];function Vi(e,t,i,h,l,r){const m=U,o=M;return s(),a("div",null,[n("table",Kt,[n("thead",null,[n("tr",null,[ei,ti,ii,ni,i.canValiderCandidature?(s(),a("th",ri,"Action")):d("",!0)])]),n("tbody",null,[l.candidatures.length==0?(s(),a("tr",si,[i.canValiderCandidature?(s(),a("td",ai,"Aucune candidature")):d("",!0)])):d("",!0),(s(!0),a(g,null,y(l.candidatures,c=>(s(),a("tr",{key:c.id},[n("td",li,[n("a",{href:r.urlOffre(c)},_(c.offre.titre),9,oi)]),n("td",ui,_(c.offre.structure.libelleCourt),1),n("td",di,[c.validation?(s(),a("span",ci,"Acceptée par "+_(c.validation.histoCreateur.displayName),1)):d("",!0),!c.validation&&c.motif!==null?(s(),a("span",mi,_(c.motif),1)):d("",!0),!c.validation&&c.motif===null?(s(),a("span",hi,"En attente d'acceptation")):d("",!0)]),n("td",null,[c.dateCommission?(s(),k(m,{key:0,value:c.dateCommission},null,8,["value"])):d("",!0)]),this.canValiderCandidature?(s(),a("td",fi,[c.validation?d("",!0):(s(),a("a",{key:0,href:r.urlAccepterCandidature(c),class:"btn btn-success","data-content":"Êtes vous sûr de vouloir accepter cette candidature ?","data-title":"Accepter la candidature",style:{color:"white"},title:"Accepter la candidature",onClick:t[0]||(t[0]=p((...V)=>r.validerCandidature&&r.validerCandidature(...V),["prevent"]))},pi,8,_i)),u("  "),n("a",{href:r.urlRefuserCandidature(c),class:"btn btn-danger","data-content":"Êtes vous sûr de vouloir refuser cette candidature ?","data-title":"Refuser la candidature",style:{color:"white"},title:"Refuser la candidature",onClick:t[1]||(t[1]=p((...V)=>r.refuserCandidature&&r.refuserCandidature(...V),["prevent"]))},yi,8,bi)])):d("",!0)]))),128))])]),n("a",{href:l.urlListeOffre,class:"btn btn-primary",title:"Voir les offres d'emploi"},[f(o,{name:"eye"}),u(" Voir toutes les offres d'emploi ")],8,xi),u("  ")])}const Ci=x(Zt,[["render",Vi]]),ki=Object.freeze(Object.defineProperty({__proto__:null,default:Ci},Symbol.toStringTag,{value:"Module"})),Si={name:"OffreEmploi.vue",props:{offre:{required:!0},utilisateur:{required:!1},extended:{type:Boolean,required:!1},canModifier:{type:Boolean,required:!1},canPostuler:{type:Boolean,required:!1},canValider:{type:Boolean,required:!1},canSupprimer:{type:Boolean,required:!1},canVoirCandidature:{type:Boolean,required:!1},canValiderCandidature:{type:Boolean,required:!1},decretText:{type:String,required:!1}},data(){return{saisirUrl:unicaenVue.url("offre-emploi/saisir/:offre",{offre:this.offre.id}),supprimerUrl:unicaenVue.url("offre-emploi/supprimer/:offre",{offre:this.offre.id}),validerUrl:unicaenVue.url("offre-emploi/valider/:offre",{offre:this.offre.id}),devaliderUrl:unicaenVue.url("offre-emploi/devalider/:offre",{offre:this.offre.id}),consulterUrl:unicaenVue.url("offre-emploi/detail/:offre",{offre:this.offre.id}),offreEmploiUrl:unicaenVue.url("offre-emploi"),postulerUrl:unicaenVue.url("offre-emploi/postuler/:id",{id:this.offre.id}),decret:!1}},computed:{isCandidat:function(){return!1},shortDesc:function(){let e=this.offre.description.substr(0,200);return this.offre.description.length>200&&(e+="..."),e},descriptionHtml:function(){return this.offre.description.replace(/(?:\r\n|\r|\n)/g,"<br />")},connectionLink:function(){let e="auth/connexion?redirect="+window.location.href;return unicaenVue.url(e)}},mounted(){this.decretText||(this.decret=!0)},methods:{saisir(e){modAjax(e.target,t=>{this.refresh()})},urlVoir:function(e){return unicaenVue.url("intervenant/:code/voir",{code:"code:"+e.intervenant.code})},urlVoirCandidature:function(e){return unicaenVue.url("intervenant/:code/candidature",{code:"code:"+e.intervenant.code})},urlAccepterCandidature:function(e){return unicaenVue.url("offre-emploi/accepter-candidature/:id",{id:e.id})},urlRefuserCandidature:function(e){return unicaenVue.url("offre-emploi/refuser-candidature/:id",{id:e.id})},refresh(){unicaenVue.axios.get(unicaenVue.url("offre-emploi/get/:offreEmploi",{offreEmploi:this.offre.id})).then(e=>{this.$emit("refresh",e.data)})},supprimer(e){popConfirm(e.target,t=>{this.$emit("supprimer",this.offre)})},postuler(e){popConfirm(e.target,t=>{this.$emit("postuler",this.offre)})},valider(e){popConfirm(e.currentTarget,t=>{this.$emit("refresh",t.data)})},devalider(e){popConfirm(e.currentTarget,t=>{this.$emit("refresh",t.data)})},validerCandidature(e){popConfirm(e.currentTarget,t=>{this.$emit("refresh",t.data)})},refuserCandidature(e){popConfirm(e.currentTarget,t=>{this.$emit("refresh",t.data)})}}},Ti={key:0,class:"col"},Mi={class:"card h-100"},ji={class:"card-header"},Ui={class:"badge rounded-pill bg-info"},Di={key:0,class:"badge rounded-pill bg-success"},wi={key:1,class:"badge rounded-pill bg-warning"},Ri={class:"card-body"},Ai={class:"bg-light",style:{padding:"5px"}},Pi=n("b",null,"Créée le : ",-1),Ei=n("br",null,null,-1),qi=n("b",null,"Période à pourvoir : ",-1),Oi=n("br",null,null,-1),Li=n("b",null,"Demandée par la composante :",-1),Hi=n("br",null,null,-1),Fi=n("b",null,"Type de mission :",-1),Ni={class:"card-footer"},$i={class:"d-grid gap-2 d-md-flex justify-content-md-end"},Bi=["href"],Ii={key:1},zi={class:"page-header"},Gi={key:0,class:"alert alert-primary d-flex align-items-center",role:"alert"},Yi=n("i",{class:"fa-solid fa-user"},null,-1),Ji={class:"ms-2"},Qi=["href"],Wi={key:1,class:"alert alert-primary d-flex align-items-center",role:"alert"},Xi=n("i",{class:"fa-solid fa-circle-xmark"},null,-1),Zi=n("div",{class:"ms-2"}," Vous n'avez pas les droits pour postuler à cette offre, merci de contacter votre administration de rattachement. ",-1),Ki=[Xi,Zi],en={key:2,class:"alert alert-primary d-flex align-items-center",role:"alert"},tn=n("i",{class:"fa-solid fa-circle-xmark"},null,-1),nn=n("div",{class:"ms-2"}," Vous avez déjà postulé à cette offre. ",-1),rn=[tn,nn],sn={class:"bg-light",style:{padding:"10px"}},an=n("b",null,"Créée le : ",-1),ln=n("br",null,null,-1),on=n("b",null,"Période à pourvoir : ",-1),un=n("br",null,null,-1),dn=n("b",null,"Date limite de candidature :",-1),cn=n("br",null,null,-1),mn=n("b",null,"Demandé par la composante :",-1),hn=n("br",null,null,-1),fn=n("b",null,"Type de mission :",-1),_n=n("br",null,null,-1),vn=n("b",null,"Nombre d'heures pour la mission :",-1),pn=n("br",null,null,-1),bn=n("b",null,"Nombre de postes à pourvoir :",-1),gn=n("br",null,null,-1),yn={key:3,class:"alert alert-info"},xn=["innerHTML"],Vn=n("br",null,null,-1),Cn={key:4},kn=n("h5",null,[n("strong",null,"Liste des candidats :")],-1),Sn={class:"table table-bordered"},Tn=n("th",null,"Intervenant",-1),Mn=n("th",null,"Etat",-1),jn={key:0},Un={key:0},Dn={key:0,colspan:"4",style:{"text-align":"center"}},wn={key:1,colspan:"3",style:{"text-align":"center"}},Rn=["href"],An={key:0,class:"badge rounded-pill bg-success"},Pn={key:1,class:"badge rounded-pill bg-danger"},En={key:2,class:"badge rounded-pill bg-warning"},qn={key:0},On=["href"],Ln={class:"mt-5"},Hn=["href"],Fn=["href"],Nn=["href"],$n=["href"],Bn=["href"],In=["href"];function zn(e,t,i,h,l,r){const m=U,o=M;return s(),a(g,null,[this.extended?d("",!0):(s(),a("div",Ti,[n("div",Mi,[n("div",ji,[n("h4",null,_(i.offre.titre),1),n("span",Ui,_(i.offre.nombreHeures)+" heure(s)",1),u("   "),i.offre.validation?(s(),a("span",Di,[u("Validée le "),f(m,{value:i.offre.validation.histoCreation},null,8,["value"]),u(" par "+_(i.offre.validation.histoCreateur.displayName),1)])):d("",!0),i.offre.validation?d("",!0):(s(),a("span",wi," En attente de validation par la DRH")),u("  ")]),n("div",Ri,[n("p",Ai,[Pi,f(m,{value:i.offre.histoCreation},null,8,["value"]),u(" par "+_(i.offre.histoCreateur.displayName),1),Ei,qi,u("du "),f(m,{value:i.offre.dateDebut},null,8,["value"]),u(" au "),f(m,{value:i.offre.dateFin},null,8,["value"]),Oi,Li,u(" "+_(i.offre.structure.libelleCourt)+" ",1),Hi,Fi,u(" "+_(i.offre.typeMission.libelle),1)]),u(" "+_(r.shortDesc),1)]),n("div",Ni,[n("div",$i,[n("a",{href:l.consulterUrl,class:"btn btn-primary",title:"Consulter "},[f(o,{name:"eye"}),u(" Voir ")],8,Bi)])])])])),this.extended?(s(),a("div",Ii,[n("h1",zi,_(i.offre.titre),1),this.utilisateur?d("",!0):(s(),a("div",Gi,[Yi,n("div",Ji,[u(" Vous devez "),n("a",{href:r.connectionLink,class:"text-decoration-underline alert-link"},"être identifé",8,Qi),u(" pour pouvoir postuler. ")])])),!i.offre.canPostuler&&this.utilisateur?(s(),a("div",Wi,Ki)):d("",!0),r.isCandidat&&this.utilisateur?(s(),a("div",en,rn)):d("",!0),n("p",sn,[an,f(m,{value:i.offre.histoCreation},null,8,["value"]),u(" par "+_(i.offre.histoCreateur.displayName),1),ln,on,u("du "),f(m,{value:i.offre.dateDebut},null,8,["value"]),u(" au "),f(m,{value:i.offre.dateFin},null,8,["value"]),un,dn,f(m,{value:i.offre.dateLimite},null,8,["value"]),cn,mn,u(" "+_(i.offre.structure.libelleCourt)+" ",1),hn,fn,u(" "+_(i.offre.typeMission.libelle)+" ",1),_n,vn,u(" "+_(i.offre.nombreHeures)+" heure(s) ",1),pn,bn,u(" "+_(i.offre.nombrePostes)+" poste(s) ",1),gn]),n("p",null,_(this.offre.description.replace(/(?:\r\n|\r|\n)/g,"<br/>")),1),this.decretText?(s(),a("p",yn,[j(n("input",{id:"decret","onUpdate:modelValue":t[0]||(t[0]=c=>l.decret=c),name:"decret",type:"checkbox"},null,512),[[w,l.decret]]),u("  "),n("span",{innerHTML:this.decretText},null,8,xn)])):d("",!0),Vn,this.canValiderCandidature?(s(),a("div",Cn,[kn,n("table",Sn,[n("thead",null,[n("tr",null,[Tn,Mn,i.canValiderCandidature?(s(),a("th",jn,"Action")):d("",!0)])]),n("tbody",null,[i.offre.candidatures.length==0?(s(),a("tr",Un,[i.canValiderCandidature?(s(),a("td",Dn,"Aucune candidature")):d("",!0),i.canValiderCandidature?d("",!0):(s(),a("td",wn,"Aucune candidature"))])):d("",!0),(s(!0),a(g,null,y(i.offre.candidatures,c=>(s(),a("tr",null,[n("td",null,[n("a",{href:r.urlVoir(c)},_(c.intervenant.prenom+" "+c.intervenant.nomUsuel),9,Rn)]),n("td",null,[c.validation?(s(),a("span",An,[u("Acceptée le "),f(m,{value:c.validation.histoCreation},null,8,["value"]),u(" par "+_(c.validation.histoCreateur.displayName),1)])):d("",!0),!c.validation&&c.motif!==null?(s(),a("span",Pn,_(c.motif),1)):d("",!0),!c.validation&&c.motif===null?(s(),a("span",En,"En attente d'acceptation")):d("",!0)]),this.canValiderCandidature?(s(),a("td",qn,[n("a",{href:r.urlVoirCandidature(c),class:"btn btn-primary",title:"Consulter "},[f(o,{name:"eye"}),u(" Voir ")],8,On)])):d("",!0)]))),256))])])])):d("",!0),n("div",Ln,[n("a",{href:l.offreEmploiUrl,class:"btn btn-secondary"},"Retour aux offres",8,Hn),u("  "),this.canPostuler?(s(),a("a",{key:0,href:l.postulerUrl,class:T(["btn btn-primary",l.decret?"":"disabled"]),"data-bs-original-title":"Vous devez être connecté pour postuler","data-bs-placement":"top","data-bs-toggle":"tooltip"},"Postuler",10,Fn)):d("",!0),u("  "),i.offre.canModifier?(s(),a("a",{key:1,href:l.saisirUrl,class:"btn btn-primary",title:"Modifier",onClick:t[1]||(t[1]=p((...c)=>r.saisir&&r.saisir(...c),["prevent"]))},[f(o,{name:"pen-to-square"}),u(" Modifier ")],8,Nn)):d("",!0),u("  "),i.offre.validation&&i.offre.canValider?(s(),a("a",{key:2,href:l.devaliderUrl,class:"btn btn-danger",title:"Devalider",onClick:t[2]||(t[2]=p((...c)=>r.devalider&&r.devalider(...c),["prevent"]))},[f(o,{name:"thumbs-down"}),u(" Devalider ")],8,$n)):d("",!0),u("  "),!i.offre.validation&&i.offre.canValider?(s(),a("a",{key:3,href:l.validerUrl,class:"btn btn-success",title:"Valider",onClick:t[3]||(t[3]=p((...c)=>r.valider&&r.valider(...c),["prevent"]))},[f(o,{name:"thumbs-up"}),u(" Valider ")],8,Bn)):d("",!0),u("  "),i.offre.canSupprimer?(s(),a("a",{key:4,href:l.supprimerUrl,class:"btn btn-danger","data-content":"Êtes-vous sur de vouloir supprimer l'offre ?","data-title":"Suppression de l'offre",title:"Supprimer",onClick:t[4]||(t[4]=p((...c)=>r.supprimer&&r.supprimer(...c),["prevent"]))},[f(o,{name:"trash"}),u(" Supprimer ")],8,In)):d("",!0)])])):d("",!0)],64)}const H=x(Si,[["render",zn]]),Gn=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"})),Yn={components:{offreEmploi:H},props:{id:{type:Number,required:!1},utilisateur:{required:!1},canModifier:{type:Boolean,required:!1},canPostuler:{type:Boolean,required:!1},canValider:{type:Boolean,required:!1},canVoirCandidature:{type:Boolean,required:!1},canValiderCandidature:{type:Boolean,required:!1},canSupprimer:{type:Boolean,required:!1}},data(){return{offres:[],ajoutUrl:unicaenVue.url("offre-emploi/saisir")}},mounted(){this.reload()},computed:{extended:function(){return!!this.id}},methods:{ajout(e){modAjax(e.target,t=>{this.reload()})},supprimer(){window.location.href=unicaenVue.url("offre-emploi")},refresh(e){let t=Util.json.indexById(this.offres,e.id);this.offres[t]=e},reload(){this.id?unicaenVue.axios.get(unicaenVue.url("offre-emploi/get/:offreEmploi",{offreEmploi:this.id})).then(e=>{this.offres=[e.data]}):unicaenVue.axios.get(unicaenVue.url("offre-emploi/liste")).then(e=>{this.offres=e.data})}}},Jn={key:0,class:"row row-cols-1 row-cols-md-2 g-4 mb-3"},Qn={key:1},Wn=["href"],Xn={key:2};function Zn(e,t,i,h,l,r){const m=S("offreEmploi");return s(),a(g,null,[r.extended?d("",!0):(s(),a("div",Jn,[(s(!0),a(g,null,y(l.offres,o=>(s(),k(m,{key:o.id,canModifier:this.canModifier,canSupprimer:this.canSupprimer,canValider:this.canValider,canVoirCandidature:this.canVoirCandidature,offre:o,decretText:o.decretText,onRefresh:r.refresh,onSupprimer:r.supprimer},null,8,["canModifier","canSupprimer","canValider","canVoirCandidature","offre","decretText","onRefresh","onSupprimer"]))),128))])),r.extended?d("",!0):(s(),a("div",Qn,[this.canModifier?(s(),a("a",{key:0,href:l.ajoutUrl,class:"btn btn-primary",onClick:t[0]||(t[0]=p((...o)=>r.ajout&&r.ajout(...o),["prevent"]))},"Ajouter une nouvelle offre",8,Wn)):d("",!0)])),r.extended?(s(),a("div",Xn,[(s(!0),a(g,null,y(l.offres,o=>(s(),k(m,{key:o.id,canModifier:this.canModifier,canPostuler:this.canPostuler,canSupprimer:this.canSupprimer,canValider:this.canValider,canValiderCandidature:this.canValiderCandidature,canVoirCandidature:this.canVoirCandidature,decretText:o.decretText,extended:r.extended,offre:o,utilisateur:this.utilisateur,onRefresh:r.refresh,onSupprimer:r.supprimer},null,8,["canModifier","canPostuler","canSupprimer","canValider","canValiderCandidature","canVoirCandidature","decretText","extended","offre","utilisateur","onRefresh","onSupprimer"]))),128))])):d("",!0)],64)}const Kn=x(Yn,[["render",Zn]]),er=Object.freeze(Object.defineProperty({__proto__:null,default:Kn},Symbol.toStringTag,{value:"Module"})),tr={name:"Prime.vue",props:{prime:{required:!0},numero:{required:!1},intervenant:{required:!0},canGerer:{type:Boolean,required:!1}},data(){return{declarationUrl:unicaenVue.url("prime/:intervenant/declaration-prime/:prime",{intervenant:this.intervenant,prime:this.prime.id}),supprimerUrl:unicaenVue.url("prime/:intervenant/supprimer-declaration-prime/:prime",{intervenant:this.intervenant,prime:this.prime.id}),validerUrl:unicaenVue.url("prime/:intervenant/valider-declaration-prime/:prime",{intervenant:this.intervenant,prime:this.prime.id}),devaliderUrl:unicaenVue.url("prime/:intervenant/devalider-declaration-prime/:prime",{intervenant:this.intervenant,prime:this.prime.id}),telechargerUrl:unicaenVue.url("prime/:intervenant/telecharger-declaration-prime/:prime",{intervenant:this.intervenant,prime:this.prime.id}),refuserUrl:unicaenVue.url("prime/:intervenant/refuser-prime/:prime",{intervenant:this.intervenant,prime:this.prime.id}),modifierPrimeUrl:unicaenVue.url("prime/:intervenant/saisie/:prime",{intervenant:this.intervenant,prime:this.prime.id}),supprimerPrimeUrl:unicaenVue.url("prime/:intervenant/supprimer-prime/:prime",{intervenant:this.intervenant,prime:this.prime.id})}},computed:{},methods:{supprimer(e){popConfirm(e.target,t=>{this.$emit("reload")})},valider(e){popConfirm(e.target,t=>{this.$emit("reload")})},devalider(e){popConfirm(e.target,t=>{this.$emit("reload")})},refuser(){unicaenVue.axios.post(this.refuserUrl).then(e=>{this.$emit("reload")})},modifierPrime(e){modAjax(e.currentTarget,t=>{this.$emit("reload")})},supprimerPrime(e){popConfirm(e.target,t=>{this.$emit("reload")})}}},ir={key:0},nr=n("br",null,null,-1),rr=n("u",null,"Mission(s) concernée(s)",-1),sr={key:0},ar=["action"],lr={class:"card-body"},or={class:"row"},ur={key:0,class:"col-md-6"},dr={class:"card text-dark bg-light"},cr=n("div",{class:"card-header"}," Dépôt de votre déclaration sur l'honneur ",-1),mr={class:"card-body"},hr=n("p",{class:"card-text"},[u(" Pour "),n("b",null,"bénéficier de votre indemnité de fin de contrat"),u(", vous devez déposer une déclaration sur l'honneur ("),n("a",{href:""},"exemple"),u(") signée précisant que vous ne débutez pas d'autre contrat dans la fonction au publique à la suite de ces missions. ")],-1),fr=["disabled"],_r={class:"card-footer d-grid gap-2"},vr=["disabled"],pr={key:1,class:"col-md-6"},br={class:"card text-dark bg-light"},gr=n("div",{class:"card-header"}," Dépôt de votre déclaration sur l'honneur ",-1),yr={class:"card-body"},xr=n("p",{class:"card-text"},"Vous pouvez télécharger votre déclaration sur l'honneur ci-dessous : ",-1),Vr=["href"],Cr={class:"card-footer",style:{"text-align":"right"}},kr=["href"],Sr=["href"],Tr=["href"],Mr={class:"col-md-6"},jr={key:0},Ur=["checked","disabled"],Dr=n("b",null,"je déclare ne pas pouvoir bénéficier d'une indemnité",-1),wr=n("br",null,null,-1),Rr=n("br",null,null,-1),Ar=n("div",null,[n("label",{class:"form-label"},"Suivi de la déclaration : ")],-1),Pr={key:0},Er={key:1},qr={key:2},Or={key:3},Lr={key:4},Hr={key:5},Fr={key:6},Nr={class:"row"},$r={class:"col-md-12"},Br={class:"float-end"},Ir=["href"],zr=["href"];function Gr(e,t,i,h,l,r){const m=U,o=M;return s(),a("div",{class:T([{"bg-success":i.prime.validation,"bg-default":!i.prime.validation&&!i.prime.dateRefus,"bg-danger":i.prime.dateRefus},"card"])},[n("div",{class:T([{"text-white":i.prime.dateRefus},"card-header card-header-h3"])},[i.prime.id?(s(),a("h5",ir,[u(" Indemnité de fin de contrat N°"+_(i.numero+1),1),nr])):d("",!0),n("div",null,[rr,u(" : "),(s(!0),a(g,null,y(i.prime.missions,(c,V)=>(s(),a("span",null,[u(_(c.typeMission.libelle)+" (Pour "+_(c.structure.libelleCourt)+" du ",1),f(m,{value:c.dateDebut},null,8,["value"]),u(" au "),f(m,{value:c.dateFin},null,8,["value"]),u(") "),V!=i.prime.missions.length-1?(s(),a("span",sr,", ")):d("",!0)]))),256))])],2),n("form",{action:l.declarationUrl,enctype:"multipart/form-data",method:"post"},[n("div",lr,[n("div",or,[i.prime.declaration?d("",!0):(s(),a("div",ur,[n("div",dr,[cr,n("div",mr,[hr,n("input",{ref:"file",disabled:!!i.prime.dateRefus,name:"files[]",type:"file"},null,8,fr)]),n("div",_r,[n("input",{disabled:!!i.prime.dateRefus,class:"btn btn-primary",type:"submit",value:"Envoyer"},null,8,vr)])])])),i.prime.declaration?(s(),a("div",pr,[n("div",br,[gr,n("div",yr,[xr,n("a",{href:l.telechargerUrl},_(i.prime.declaration.nom),9,Vr)]),n("div",Cr,[i.prime.declaration&&!i.prime.validation&&!i.prime.dateRefus?(s(),a("a",{key:0,href:l.supprimerUrl,class:"btn btn-danger",title:"Supprimer",onClick:t[0]||(t[0]=p((...c)=>r.supprimer&&r.supprimer(...c),["prevent"]))}," Supprimer ",8,kr)):d("",!0),u("  "),i.prime.declaration&&!i.prime.validation&&this.canGerer&&!i.prime.dateRefus?(s(),a("a",{key:1,href:l.validerUrl,class:"btn btn-success",title:"Valider",onClick:t[1]||(t[1]=p((...c)=>r.valider&&r.valider(...c),["prevent"]))}," Valider ",8,Sr)):d("",!0),u("  "),i.prime.declaration&&i.prime.validation&&this.canGerer&&!i.prime.dateRefus?(s(),a("a",{key:2,href:l.devaliderUrl,class:"btn btn-danger d-grid gap-2",title:"Dévalider",onClick:t[2]||(t[2]=p((...c)=>r.devalider&&r.devalider(...c),["prevent"]))}," Dévalider ",8,Tr)):d("",!0),u("  ")])])])):d("",!0),n("div",Mr,[i.prime.validation?d("",!0):(s(),a("div",jr,[n("input",{checked:i.prime.dateRefus,disabled:i.prime.validation,name:"prime",type:"checkbox",onChange:t[3]||(t[3]=(...c)=>r.refuser&&r.refuser(...c))},null,40,Ur),u("  Ou en cochant cette case, "),Dr,u(" de fin de contrat en raison du démarrage d'un nouveau contrat au sein de la fonction publique à la suite de ces missions. "),wr,Rr])),n("div",null,[Ar,i.prime.dateRefus?(s(),a("div",Pr,[f(o,{name:"thumbs-down",variant:"danger"}),u(" Indemnité refusée le "),f(m,{value:i.prime.dateRefus},null,8,["value"])])):d("",!0),i.prime.declaration&&!i.prime.dateRefus?(s(),a("div",Er,[f(o,{name:"thumbs-up",variant:"success"}),u(" Déclaration déposée le "),f(m,{value:i.prime.declaration.histoCreation},null,8,["value"]),u(" par "+_(i.prime.declaration.histoCreateur.displayName),1)])):d("",!0),!i.prime.declaration&&!i.prime.dateRefus?(s(),a("div",qr,[f(o,{name:"thumbs-down",variant:"info"}),u(" Aucune déclaration déposée ")])):d("",!0),i.prime.validation&&!i.prime.dateRefus?(s(),a("div",Or,[f(o,{name:"thumbs-up",variant:"success"}),u(" Déclaration validée le "),f(m,{value:i.prime.validation.histoCreation},null,8,["value"]),u(" par "+_(i.prime.validation.histoCreateur.displayName),1)])):d("",!0),!i.prime.validation&&!i.prime.dateRefus?(s(),a("div",Lr,[f(o,{name:"thumbs-down",variant:"info"}),u(" Aucune déclaration validée ")])):d("",!0),i.prime.validation&&!i.prime.dateRefus?(s(),a("div",Hr,[f(o,{name:"euro-sign",variant:"success"}),u(" Intervenant éligible à une indemnité de fin de contrat ")])):d("",!0),i.prime.dateRefus?(s(),a("div",Fr,[f(o,{name:"euro-sign",variant:"info"}),u(" Intervenant non éligible à une indemnité de fin de contrat ")])):d("",!0)])])]),n("div",Nr,[n("div",$r,[n("span",Br,[!i.prime.validation&&!i.prime.dateRefus&&this.canGerer?(s(),a("a",{key:0,href:l.modifierPrimeUrl,class:"btn btn-primary",onClick:t[4]||(t[4]=p((...c)=>r.modifierPrime&&r.modifierPrime(...c),["prevent"]))},"Modifier",8,Ir)):d("",!0),u("   "),!i.prime.validation&&!i.prime.dateRefus&&this.canGerer?(s(),a("a",{key:1,href:l.supprimerPrimeUrl,class:"btn btn-danger",onClick:t[5]||(t[5]=p((...c)=>r.supprimerPrime&&r.supprimerPrime(...c),["prevent"]))},"Supprimer",8,zr)):d("",!0)])])])])],8,ar)],2)}const F=x(tr,[["render",Gr]]),Yr=Object.freeze(Object.defineProperty({__proto__:null,default:F},Symbol.toStringTag,{value:"Module"})),Jr={components:{prime:F},props:{intervenant:{type:Number,required:!0},numero:{type:Number,required:!1},missionsWithoutPrime:{type:Number,required:!1},canGerer:{type:Boolean,required:!1}},data(){return{load:!1,primes:[],ajoutUrl:unicaenVue.url("prime/:intervenant/saisie/",{intervenant:this.intervenant})}},mounted(){this.reload(),console.log(this.primes.length)},methods:{ajout(e){modAjax(e.currentTarget,t=>{this.reload()})},reload(){this.load=!1,this.primes=[],unicaenVue.axios.get(unicaenVue.url("prime/:intervenant/liste",{intervenant:this.intervenant})).then(e=>{this.primes=e.data,this.load=!0})}}},Qr={key:0,class:"text-secondary text-center fs-6",style:{"text-align":"center"}},Wr=n("br",null,null,-1),Xr=n("br",null,null,-1),Zr={key:1,class:"text-secondary text-center fs-6",style:{"text-align":"center"}},Kr=n("br",null,null,-1),es=n("br",null,null,-1),ts={key:2},is=["href"];function rs(e,t,i,h,l,r){const m=S("prime");return s(),a(g,null,[(s(!0),a(g,null,y(l.primes,(o,c)=>(s(),k(m,{canGerer:i.canGerer,intervenant:this.intervenant,numero:c,prime:o,onReload:r.reload},null,8,["canGerer","intervenant","numero","prime","onReload"]))),256)),l.load?d("",!0):(s(),a("div",Qr,[u(" Chargement en cours..."),Wr,Xr])),l.primes.length==0&&l.load?(s(),a("div",Zr,[u(" Aucune indemnité de fin de contrat actuellement..."),Kr,es])):d("",!0),this.missionsWithoutPrime>0&&this.canGerer?(s(),a("div",ts,[n("a",{href:l.ajoutUrl,class:"btn btn-primary",onClick:t[0]||(t[0]=p((...o)=>r.ajout&&r.ajout(...o),["prevent"]))},"Créer une nouvelle indemnité",8,is)])):d("",!0)],64)}const ss=x(Jr,[["render",rs]]),as=Object.freeze(Object.defineProperty({__proto__:null,default:ss},Symbol.toStringTag,{value:"Module"}));const ls={name:"UCalendar",props:{date:{type:Date,required:!0},events:{type:Array,required:!0},canAddEvent:{type:Boolean,required:!0,default:!0},addDateDebut:{type:String,required:!1},addDateFin:{type:String,required:!1}},data(){const e=new Date(this.date);return{mois:e.getMonth()+1,annee:e.getFullYear()}},computed:{listeJours(){const e=new Date(this.date);e.setDate(1),e.setMonth(e.getMonth()+1),e.setDate(e.getDate()-1);let t=e.getDate();return Array.from({length:t},(i,h)=>h+1)}},watch:{date:function(e,t){const i=new Date(this.date);this.mois=i.getMonth()+1,this.annee=i.getFullYear()},mois:function(e,t){const i=new Date(this.date);i.setMonth(e-1),this.$emit("changeDate",i)},annee:function(e,t){const i=new Date(this.date);i.setFullYear(e),this.$emit("changeDate",i)}},methods:{nomJour(e){const t=new Date(this.date);return t.setDate(e),t.toLocaleString("fr-FR",{weekday:"short"})},listeMois(){let e=[];const t=new Date;for(let i=1;i<=12;i++){t.setMonth(i-1);let h=t.toLocaleString("fr-FR",{month:"long"});e.push({id:i,libelle:h})}return e},listeAnnees(){const t=new Date().getFullYear(),i=1;let h=[];for(let l=t-i;l<=t+i;l++)h.push(l);return h},canAdd(e){if(!this.canAddEvent)return!1;let t=this.addDateDebut;t===void 0?t=new Date("2000-01-01"):t==="now"?t=new Date:t=new Date(t);let i=this.addDateFin;i===void 0?i=new Date("2500-01-01"):i==="now"?i=new Date:i=new Date(i);let h=new Date(this.date);return h.setDate(e),t=this.isoDateOnly(t),i=this.isoDateOnly(i),h=this.isoDateOnly(h),!(h<t||h>i)},addEvent(e){const t=new Date(this.date);t.setDate(e.currentTarget.dataset.jour),this.$emit("addEvent",t,e)},prevMois(){const e=new Date(this.date);e.setMonth(e.getMonth()-1),this.$emit("changeDate",e)},nextMois(){const e=new Date(this.date);e.setMonth(e.getMonth()+1),this.$emit("changeDate",e)},eventsByJour(e){const t=new Date(this.date);let i={};for(let h in this.events){let l=this.events[h];l.date.getFullYear()===t.getFullYear()&&l.date.getMonth()+1===t.getMonth()+1&&l.date.getDate()===e&&(i[h]=l)}return i},isoDateOnly(e){const t=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),h=String(e.getDate()).padStart(2,"0");return`${t}-${i}-${h}`}}},os={class:"calendar"},us={class:"recherche"},ds={class:"recherche btn-group"},cs=["value"],ms=["value"],hs={class:"table table-bordered table-hover table-sm"},fs=["data-jour"],_s={class:"nom-jour"},vs={class:"numero-jour"},ps={class:"num-jour badge bg-secondary rounded-circle"},bs={key:0},gs=["data-jour"];function ys(e,t,i,h,l,r){const m=M;return s(),a("div",os,[n("div",us,[n("div",ds,[n("button",{class:"btn btn-light",id:"prevMois",onClick:t[0]||(t[0]=(...o)=>r.prevMois&&r.prevMois(...o)),title:"Mois précédant"},[f(m,{name:"chevron-left"})]),j(n("select",{class:"form-select btn btn-light",id:"otherMois","onUpdate:modelValue":t[1]||(t[1]=o=>l.mois=o)},[(s(!0),a(g,null,y(r.listeMois(),o=>(s(),a("option",{value:o.id},_(o.libelle),9,cs))),256))],512),[[O,l.mois]]),j(n("select",{class:"form-select btn btn-light",id:"otherAnnee","onUpdate:modelValue":t[2]||(t[2]=o=>l.annee=o)},[(s(!0),a(g,null,y(r.listeAnnees(),o=>(s(),a("option",{value:o},_(o),9,ms))),256))],512),[[O,l.annee]]),n("button",{class:"btn btn-light",id:"nextMois",onClick:t[3]||(t[3]=(...o)=>r.nextMois&&r.nextMois(...o)),title:"Mois suivant"},[f(m,{name:"chevron-right"})])])]),n("table",hs,[(s(!0),a(g,null,y(r.listeJours,o=>(s(),a("tr",{"data-jour":o},[n("th",_s,_(r.nomJour(o)),1),n("th",vs,[n("div",ps,_(o<10?"0"+o.toString():o),1)]),n("td",null,[(s(!0),a(g,null,y(r.eventsByJour(o),(c,V)=>(s(),a("div",{class:"event",style:Y("border-color:"+c.color+";background-color:"+c.bgcolor),key:V},[(s(),k(J(c.component),{event:c},null,8,["event"]))],4))),128)),r.canAdd(o)?(s(),a("div",bs,[n("button",{onClick:t[4]||(t[4]=(...c)=>r.addEvent&&r.addEvent(...c)),"data-jour":o,class:"btn btn-light btn-sm"},[f(m,{name:"plus"}),u(" Nouvel événement ")],8,gs)])):d("",!0)])],8,fs))),256))])])}const xs=x(ls,[["render",ys],["__scopeId","data-v-51bbc42d"]]);const Vs={name:"SuiviEvent",props:{event:{type:Object,required:!0}},data(){return{suivi:this.$parent.$parent,modifierUrl:unicaenVue.url("mission/suivi/modifier/:id",{id:this.event.id}),supprimerUrl:unicaenVue.url("mission/suivi/supprimer/:id",{id:this.event.id}),validerUrl:unicaenVue.url("mission/suivi/valider/:id",{id:this.event.id}),devaliderUrl:unicaenVue.url("mission/suivi/devalider/:id",{id:this.event.id})}},computed:{heureDebut(){return this.event.heureDebut.toString().replace(":","h")},heureFin(){return this.event.heureFin.toString().replace(":","h")},heures(){return Util.floatToString(this.event.heures)}},methods:{modifier(e){modAjax(e.currentTarget,t=>{this.suivi.refresh()})},supprimer(e){popConfirm(e.currentTarget,t=>{this.suivi.refresh()})},valider(e){unicaenVue.axios.get(this.validerUrl).then(t=>{this.suivi.refresh()})},devalider(e){popConfirm(e.currentTarget,t=>{this.suivi.refresh()})}}},Cs={class:"event-content"},ks={class:"mission"},Ss={key:0,class:"badge bg-success"},Ts={class:"horaires"},Ms={key:0,class:"badge bg-secondary"},js={key:0,class:"description"},Us={class:"event-actions"},Ds={class:"btn-group btn-group-sm"},ws=["data-url"],Rs=["data-url"],As=["data-url"],Ps=["data-url"];function Es(e,t,i,h,l,r){const m=M;return s(),a(g,null,[n("div",Cs,[n("p",ks,[u(_(i.event.mission.libelleCourt)+" ",1),i.event.valide?(s(),a("span",Ss,"Validé")):d("",!0)]),n("p",Ts,[u(" de "+_(r.heureDebut)+" à "+_(r.heureFin)+", soit "+_(r.heures)+" heure"+_(r.heures<2?"":"s")+" ",1),i.event.formation?(s(),a("span",Ms,"En formation")):d("",!0)]),i.event.description?(s(),a("p",js,_(i.event.description),1)):d("",!0)]),n("div",Us,[n("div",Ds,[i.event.canEdit?(s(),a("button",{key:0,class:"btn btn-light",onClick:t[0]||(t[0]=(...o)=>r.modifier&&r.modifier(...o)),title:"Modifier le suivi","data-url":l.modifierUrl},[f(m,{name:"pen-to-square"})],8,ws)):d("",!0),i.event.canValider?(s(),a("button",{key:1,class:"btn btn-light",onClick:t[1]||(t[1]=(...o)=>r.valider&&r.valider(...o)),title:"Valider le suivi","data-url":l.validerUrl},[f(m,{name:"check",class:"text-success"})],8,Rs)):d("",!0),i.event.canDevalider?(s(),a("button",{key:2,class:"btn btn-light",onClick:t[2]||(t[2]=(...o)=>r.devalider&&r.devalider(...o)),title:"Dévalider le suivi","data-url":l.devaliderUrl,"data-content":"Voulez-vous vraiment dévalider ce suivi ?"},[f(m,{name:"xmark",class:"text-danger"})],8,As)):d("",!0),i.event.canSupprimer?(s(),a("button",{key:3,class:"btn btn-light",onClick:t[3]||(t[3]=(...o)=>r.supprimer&&r.supprimer(...o)),title:"Supprimer le suivi","data-url":l.supprimerUrl,"data-content":"Voulez-vous vraiment supprimer ce suivi ?"},[f(m,{name:"trash-can",class:"text-danger"})],8,Ps)):d("",!0)])])],64)}const N=x(Vs,[["render",Es],["__scopeId","data-v-17cb1f29"]]),qs=Object.freeze(Object.defineProperty({__proto__:null,default:N},Symbol.toStringTag,{value:"Module"})),Os={name:"Suivi",props:{intervenant:{type:Number,required:!0},canAddMission:{type:Boolean,required:!0}},mounted(){this.refresh()},data(){return{date:new Date,isMounted:!1,suivi:[]}},methods:{changeDate(e){this.date=e},ajouter(e,t){const i={intervenant:this.intervenant,date:e.toISOString().slice(0,10)};t.currentTarget.dataset.url=unicaenVue.url("mission/suivi/ajout/:intervenant/:date",i),modAjax(t.currentTarget,h=>{this.refresh()})},refresh(){const e=["#e74c3c","#8e44ad","#3498db","#1abc9c","#2ecc71","#f1c40f","#e67e22","#d35400"];let t=0,i=[];unicaenVue.axios.get(unicaenVue.url("mission/suivi/liste/:intervenant",{intervenant:this.intervenant})).then(h=>{let l=[];for(let r in h.data){let m=h.data[r];i[m.mission.id]===void 0&&(i[m.mission.id]=e[t],t++),m.valide&&(m.bgcolor="#d0eddb"),m.color=i[m.mission.id],m.component=Q(N),m.date=new Date(m.date),m.intervenant=this.intervenant,l.push(m)}this.suivi=l,this.refreshPlafonds()})},refreshPlafonds(){this.isMounted?$(".plafonds").refresh():this.isMounted=!0}}};function Ls(e,t,i,h,l,r){const m=xs;return s(),k(m,{date:l.date,onChangeDate:r.changeDate,onAddEvent:r.ajouter,"can-add-event":i.canAddMission,addDateFin:"now",events:l.suivi},null,8,["date","onChangeDate","onAddEvent","can-add-event","events"])}const Hs=x(Os,[["render",Ls]]),Fs=Object.freeze(Object.defineProperty({__proto__:null,default:Hs},Symbol.toStringTag,{value:"Module"})),Ns={name:"Taux",props:{taux:{required:!0},listeTaux:{required:!0}},data(){return{saisieUrl:unicaenVue.url("taux/saisir/:tauxRemu",{tauxRemu:this.taux.id}),supprimerUrl:unicaenVue.url("taux/supprimer/:tauxRemu",{tauxRemu:this.taux.id}),ajoutValeurUrl:unicaenVue.url("taux/saisir-valeur/:tauxRemu",{tauxRemu:this.taux.id})}},methods:{saisie(e){modAjax(e.target,t=>{this.$emit("refreshListe")})},ajoutValeur(e){modAjax(e.target,t=>{this.$emit("refreshListe")})},saisieValeur(e){e.currentTarget.href=unicaenVue.url("taux/saisir-valeur/:tauxRemu/:tauxRemuValeur",{tauxRemu:this.taux.id,tauxRemuValeur:e.currentTarget.dataset.id}),modAjax(e.currentTarget,t=>{this.$emit("refreshListe")})},refreshListe(e){this.$emit("refreshListe")},supprimer(e){popConfirm(e.target,t=>{this.$emit("refreshListe")})},supprimerValeur(e){e.currentTarget.href=unicaenVue.url("taux/supprimer-valeur/:tauxRemuValeur",{tauxRemuValeur:e.currentTarget.dataset.id}),popConfirm(e.currentTarget,t=>{this.$emit("refreshListe")})},refresh(e){unicaenVue.axios.get(unicaenVue.url("taux/get/:tauxRemu",{tauxRemu:e.id})).then(t=>{this.$emit("refresh",t.data)})}}},$s={class:"card-header"},Bs={style:{display:"inline"}},Is={class:"float-end"},zs=["href"],Gs=["href"],Ys={class:"card-body"},Js={key:0},Qs=n("br",null,null,-1),Ws={class:""},Xs={class:"row align-items-start"},Zs={class:"col-md-6"},Ks={class:"col"},ea=["data-id"],ta=["data-id"],ia=["href"],na={key:1,class:"row"},ra={class:"col-md-7"},sa=n("br",null,null,-1),aa={class:"row align-items-start"},la={class:"col-md-8"},oa={class:"col-md-auto"},ua=["data-id"],da=["data-id"],ca=["href"],ma={class:"col"},ha=n("br",null,null,-1),fa={key:0},_a={key:0};function va(e,t,i,h,l,r){const m=M,o=S("u-heures"),c=U,V=S("taux",!0);return s(),a(g,null,[n("div",{class:T(["card",{"ms-5":i.taux.tauxRemu}])},[n("div",$s,[n("h3",Bs,_(i.taux.libelle)+" ("+_(i.taux.code)+")",1),n("div",Is,[i.taux.canEdit?(s(),a("a",{key:0,href:l.saisieUrl,class:"btn btn-primary",onClick:t[0]||(t[0]=p((...b)=>r.saisie&&r.saisie(...b),["prevent"]))},[f(m,{name:"pen-to-square"}),u(" Modifier")],8,zs)):d("",!0),u("   "),i.taux.canDelete?(s(),a("a",{key:1,href:l.supprimerUrl,class:"btn btn-danger",onClick:t[1]||(t[1]=p((...b)=>r.supprimer&&r.supprimer(...b),["prevent"]))},[f(m,{name:"trash-can"}),u(" Supprimer")],8,Gs)):d("",!0)])]),n("div",Ys,[i.taux.tauxRemu?d("",!0):(s(),a("div",Js,[u(" Modification :"),Qs,n("ul",null,[(s(!0),a(g,null,y(i.taux.tauxRemuValeurs,b=>(s(),a("div",{key:b.id},[n("li",Ws,[n("div",Xs,[n("div",Zs,[f(o,{valeur:b.valeur},null,8,["valeur"]),u("€/h à partir du "),f(c,{value:b.dateEffet},null,8,["value"])]),n("div",Ks,[i.taux.canEdit?(s(),a("a",{key:0,class:"text-primary",onClick:t[2]||(t[2]=p((...v)=>r.saisieValeur&&r.saisieValeur(...v),["prevent"])),"data-id":b.id},[f(m,{name:"pen-to-square"})],8,ea)):d("",!0),u("   "),i.taux.canEdit?(s(),a("a",{key:1,class:"text-primary",onClick:t[3]||(t[3]=p((...v)=>r.supprimerValeur&&r.supprimerValeur(...v),["prevent"])),"data-id":b.id},[f(m,{name:"trash-can"})],8,ta)):d("",!0)])])])]))),128))]),i.taux.canEdit?(s(),a("a",{key:0,href:l.ajoutValeurUrl,class:"btn btn-primary btn-sm",onClick:t[4]||(t[4]=p((...b)=>r.ajoutValeur&&r.ajoutValeur(...b),["prevent"]))},[f(m,{name:"plus"}),u(" Ajouter une valeur ")],8,ia)):d("",!0)])),i.taux.tauxRemu?(s(),a("div",na,[n("div",ra,[u(" Modification :"),sa,n("ul",null,[(s(!0),a(g,null,y(i.taux.tauxRemuValeurs,b=>(s(),a("div",null,[n("li",null,[n("div",aa,[n("div",la,[u(" Coéfficient de "),f(o,{valeur:b.valeur},null,8,["valeur"]),u(" à partir du "),f(c,{value:b.dateEffet},null,8,["value"])]),n("div",oa,[i.taux.canEdit?(s(),a("a",{key:0,class:"text-primary",onClick:t[5]||(t[5]=p((...v)=>r.saisieValeur&&r.saisieValeur(...v),["prevent"])),"data-id":b.id},[f(m,{name:"pen-to-square"})],8,ua)):d("",!0),u("   "),i.taux.canEdit?(s(),a("a",{key:1,class:"text-primary",onClick:t[6]||(t[6]=p((...v)=>r.supprimerValeur&&r.supprimerValeur(...v),["prevent"])),"data-id":b.id},[f(m,{name:"trash-can"})],8,da)):d("",!0)])])])]))),256))]),i.taux.canEdit?(s(),a("a",{key:0,href:l.ajoutValeurUrl,class:"btn btn-primary btn-sm",onClick:t[7]||(t[7]=p((...b)=>r.ajoutValeur&&r.ajoutValeur(...b),["prevent"]))},[f(m,{name:"plus"})],8,ca)):d("",!0)]),n("div",ma,[u(" Valeurs calculées (indexées sur le taux "+_(i.taux.tauxRemu.libelle)+") : ",1),n("ul",null,[(s(!0),a(g,null,y(i.taux.tauxRemuValeursIndex,b=>(s(),a("div",null,[n("li",null,[f(o,{valeur:b.valeur},null,8,["valeur"]),u("€/h à partir du "),f(c,{value:b.date},null,8,["value"])])]))),256))]),ha])])):d("",!0)])],2),i.taux.tauxRemu?d("",!0):(s(),a("div",fa,[(s(!0),a(g,null,y(i.listeTaux,b=>(s(),a("div",{key:b},[b.tauxRemu&&b.tauxRemu.id===i.taux.id?(s(),a("div",_a,[(s(),k(V,{onSupprimer:r.supprimer,onRefreshListe:r.refreshListe,key:i.taux.id,taux:b,listeTaux:i.listeTaux},null,8,["onSupprimer","onRefreshListe","taux","listeTaux"]))])):d("",!0)]))),128))]))],64)}const B=x(Ns,[["render",va]]),pa=Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"})),ba={components:{taux:B},props:{canEditTaux:{type:Boolean,required:!0}},data(){return{listeTaux:[],ajoutUrl:unicaenVue.url("taux/saisir")}},mounted(){this.reload()},methods:{ajout(e){modAjax(e.currentTarget,t=>{this.reload()})},supprimer(){this.reload()},refreshListe(){this.reload()},refresh(e){let t=Util.json.indexById(this.listeTaux,e.id);this.listeTaux[t]=e},reload(){unicaenVue.axios.get(unicaenVue.url("taux/liste-taux")).then(e=>{this.listeTaux=e.data})}}},ga=["href"];function ya(e,t,i,h,l,r){const m=S("taux");return s(),a(g,null,[(s(!0),a(g,null,y(l.listeTaux,o=>(s(),a("div",null,[o.tauxRemu?d("",!0):(s(),k(m,{onSupprimer:r.supprimer,onRefreshListe:r.refreshListe,key:o.id,taux:o,listeTaux:l.listeTaux},null,8,["onSupprimer","onRefreshListe","taux","listeTaux"]))]))),256)),i.canEditTaux?(s(),a("a",{key:0,class:"btn btn-primary",href:l.ajoutUrl,onClick:t[0]||(t[0]=p((...o)=>r.ajout&&r.ajout(...o),["prevent"]))},"Ajout d'un nouveau taux",8,ga)):d("",!0)],64)}const xa=x(ba,[["render",ya]]),Va=Object.freeze(Object.defineProperty({__proto__:null,default:xa},Symbol.toStringTag,{value:"Module"})),Ca={UHeures:"Application/UI/UHeures",Utilisateur:"Application/Utilisateur"};function ka(e){for(let t in e)for(let i in e[t])I(e[t][i],t)}function Sa(){let e=document.getElementById("unicaen-vue-toast-container");return e||(e=document.createElement("div"),e.id="unicaen-vue-toast-container",e.classList.add("toast-container","position-fixed","top-0","end-0","p-3"),document.body.appendChild(e)),e}function Ta(e){return e=Ma(e),e=ja(e),e}function Ma(e){const t=document.createElement("div");t.innerHTML=e;const i=t.querySelector(".alert");return i?i.innerHTML:t.innerHTML}function ja(e){const t=document.createElement("div");return t.innerHTML=e,t.querySelectorAll("i.fas").forEach(h=>h.style.display="none"),t.innerHTML}function I(e,t){const i={info:"bg-info",success:"bg-success",warning:"bg-warning",error:"bg-danger"},h={info:"info-circle",success:"check-circle",warning:"exclamation-circle",error:"exclamation-triangle"},l=document.createElement("button");l.classList.add("btn-close","btn-close-white","h5"),l.style.float="right",l.setAttribute("data-bs-dismiss","toast"),l.setAttribute("aria-label","Close");const r=document.createElement("i");r.classList.add("icon","fas",`fa-${h[t]}`),r.style.float="left",r.style.fontSize="26pt",r.style.paddingLeft=".4rem",r.style.marginTop=".4rem",r.style.paddingRight="1rem";const m=document.createElement("div");m.classList.add("toast-body"),m.innerHTML=Ta(e);const o=document.createElement("div");o.appendChild(l),o.appendChild(r),o.appendChild(m);const c=document.createElement("div");c.classList.add("toast","text-white",i[t]?i[t]:"bg-secondary"),c.setAttribute("role","alert"),c.setAttribute("aria-live","assertive"),c.setAttribute("aria-atomic","true"),t==="error"&&e.length>500&&c.setAttribute("style","width:700px"),c.appendChild(o),Sa().appendChild(c);const V={animation:!0,delay:t==="warning"?15e3:5e3,autohide:t!=="error"};new bootstrap.Toast(c,V).show()}const A={toast:I,toasts:ka};let R={...W};R.interceptors.request.use(e=>{if(e.submitter){let t=e.msg?e.msg:"Action en cours";e.popover!=null&&e.popover.dispose(),e.popover=new bootstrap.Popover(e.submitter,{content:`<div class="spinner-border text-primary" role="status">
  <span class="visually-hidden">Loading...</span>
</div> `+t,html:!0,trigger:"focus"}),e.popover.show()}return e});R.interceptors.response.use(e=>{if(e.messages=e.data.messages,e.data=e.data.data,e.hasErrors=!!(e.messages&&e.messages.error&&e.messages.error.length>0),e.config.popover){var t=e.config.popover;let i="";for(ns in e.messages)for(mid in e.messages[ns])i+='<div class="alert fade show alert-'+(ns=="error"?"danger":ns)+'" role="alert">'+e.messages[ns][mid]+"</div>";i?(t._config.content=i,t.setContent(),setTimeout(()=>{t.dispose()},5e3)):t.dispose()}return e.messages&&A.toasts(e.messages),e},e=>{let t=e.response.data;e.response.status==403?t="<h4>403 - Accès interdit</h4><br />Vous n'êtes pas autorisé(e) à faire cette action.":t=e.response.data,A.toast(t,"error")});R.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const Ua={uvAxios:R},P={axios:Ua.uvAxios,flashMessenger:A,url:(e,t,i)=>{let h=window.__unicaenVueBaseUrl;if(t)for(let r in t)e=e.replace(`:${r}`,t[r]);let l=i?P.encodeUrlQueryParam(i):null;return h+e+(l?`?${l}`:"")},encodeUrlQueryParam:(e,t)=>{var i=[];for(var h in e)if(e.hasOwnProperty(h)){var l=e[h],r=t?t+"["+encodeURIComponent(h)+"]":encodeURIComponent(h);if(typeof l=="object"&&l!==null)i.push(P.encodeUrlQueryParam(l,r));else{var m=encodeURIComponent(l);i.push(r+"="+m)}}return i.join("&")}};window.unicaenVue=P;function Da(e,t){const i={};t===void 0&&(t={});for(const h in e){let r=h.slice(2,-4).replace("/","");i[r]=e[h].default}for(const h of document.getElementsByClassName("vue-app")){let l=X({template:h.innerHTML,components:i});if(t.beforeMount!==void 0&&t.beforeMount(l),t.autoloads!==void 0)for(const r in t.autoloads){let m=t.autoloads[r].replace("/","");l.component(r,i[m])}l.mount(h),t.afterMount!==void 0&&t.afterMount(l)}}const wa={init:Da},Ra=Object.assign({"./Application/UI/UHeures.vue":ie,"./Application/Utilisateur.vue":le,"./Intervenant/Recherche.vue":Ue,"./Mission/Liste.vue":Xt,"./Mission/ListeCandidatures.vue":ki,"./Mission/ListeOffreEmploi.vue":er,"./Mission/ListePrime.vue":as,"./Mission/Mission.vue":Gt,"./Mission/OffreEmploi.vue":Gn,"./Mission/Prime.vue":Yr,"./Mission/Suivi.vue":Fs,"./Mission/SuiviEvent.vue":qs,"./Paiement/ListeTaux.vue":Va,"./Paiement/Taux.vue":pa}),Aa={autoloads:Ca};wa.init(Ra,Aa);
