<?php
/**
 * @var $this              \Application\View\Renderer\PhpRenderer
 * @var $intervenant       \Application\Entity\Db\Intervenant
 * @var $canAddMission     bool
 * @var $missionForm       \Mission\Form\MissionForm
 */

use Application\Entity\Db\WfEtape;

$title     = 'Missions';
$nextEtape = WfEtape::CODE_SERVICE_SAISIE;

$this->intervenant($intervenant)->renderTitle($title);

echo $this->messenger()->addCurrentMessagesFromFlashMessenger();

echo $this->vue('mission/liste', [
    'intervenant'   => $intervenant->getId(),
    'canAddMission' => $canAddMission,
    'options'       => [
        'typeMission'     => $missionForm->get('typeMission')->getValueOptions(),
        'structure'       => $missionForm->get('structure')->getValueOptions(),
        'missionTauxRemu' => $missionForm->get('missionTauxRemu')->getValueOptions(),
    ],
]);

echo '<br />';
echo $this->feuilleDeRoute($intervenant)->renderNav($nextEtape);