version: '3'

# Ne pas oublier d'ajouter au fichier /etc/hosts :
# 172.21.0.15 ose-test.localhost

services:
  ose-test:
    container_name: ose-test

    environment:
      XDEBUG_CONFIG: remote_host=172.17.0.1
      PHP_IDE_CONFIG: serverName=ose-test.pc-local
      APPLICATION_HOSTNAME: ose-test.pc-local
      APPLICATION_ENV: test

    build:
      context: .
      dockerfile: Dockerfile
      args:
        PHP_VERSION: 7.4

    volumes:
        - .:/app

    working_dir: /app

    networks:
        devnet:
            ipv4_address: 172.21.0.15

networks:
  devnet:
    external:
        name: laures
