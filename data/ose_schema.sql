--------------------------------------------------------
--  Fichier créé - lundi-février-10-2014   
--------------------------------------------------------
Insert into INTERVENANT (ID,CIVILITE_ID,NOM_USUEL,PRENOM,NOM_PATRONYMIQUE,DATE_NAISSANCE,PAYS_NAISSANCE_CODE_INSEE,PAYS_NAISSANCE_LIBELLE,DEP_NAISSANCE_CODE_INSEE,DEP_NAISSANCE_LIBELLE,VILLE_NAISSANCE_CODE_INSEE,VILLE_NAISSANCE_LIBELLE,PAYS_NATIONALITE_CODE_INSEE,PAYS_NATIONALITE_LIBELLE,TEL_MOBILE,EMAIL,TYPE_ID,STRUCTURE_ID,TEL_PRO,SOURCE,SOURCE_ID,PRIME_EXCELLENCE_SCIENTIFIQUE,NUMERO_INSEE,NUMERO_INSEE_CLE,NUMERO_INSEE_PROVISOIRE) values ('183',null,'gauthier','Bert','Hochon',to_date('01/11/13 11:00:00','DD/MM/RR HH24:MI:SS'),'12','France','75','IDF','75019','CF','12','Française',null,'paul.hochon@unicaen.fr','P','216',null,'harpege','72673',null,null,null,null);
Insert into INTERVENANT (ID,CIVILITE_ID,NOM_USUEL,PRENOM,NOM_PATRONYMIQUE,DATE_NAISSANCE,PAYS_NAISSANCE_CODE_INSEE,PAYS_NAISSANCE_LIBELLE,DEP_NAISSANCE_CODE_INSEE,DEP_NAISSANCE_LIBELLE,VILLE_NAISSANCE_CODE_INSEE,VILLE_NAISSANCE_LIBELLE,PAYS_NATIONALITE_CODE_INSEE,PAYS_NATIONALITE_LIBELLE,TEL_MOBILE,EMAIL,TYPE_ID,STRUCTURE_ID,TEL_PRO,SOURCE,SOURCE_ID,PRIME_EXCELLENCE_SCIENTIFIQUE,NUMERO_INSEE,NUMERO_INSEE_CLE,NUMERO_INSEE_PROVISOIRE) values ('184',null,'Gautier','Jean-Paul','Hochon',to_date('07/02/14 15:58:47','DD/MM/RR HH24:MI:SS'),'12','France','75','IDF','75019','CF','12','Française',null,'paul.hochon@unicaen.fr','E','216',null,'harpege','17510',null,null,null,null);
Insert into INTERVENANT (ID,CIVILITE_ID,NOM_USUEL,PRENOM,NOM_PATRONYMIQUE,DATE_NAISSANCE,PAYS_NAISSANCE_CODE_INSEE,PAYS_NAISSANCE_LIBELLE,DEP_NAISSANCE_CODE_INSEE,DEP_NAISSANCE_LIBELLE,VILLE_NAISSANCE_CODE_INSEE,VILLE_NAISSANCE_LIBELLE,PAYS_NATIONALITE_CODE_INSEE,PAYS_NATIONALITE_LIBELLE,TEL_MOBILE,EMAIL,TYPE_ID,STRUCTURE_ID,TEL_PRO,SOURCE,SOURCE_ID,PRIME_EXCELLENCE_SCIENTIFIQUE,NUMERO_INSEE,NUMERO_INSEE_CLE,NUMERO_INSEE_PROVISOIRE) values ('185',null,'Gaudé','Laurent','Hochon',to_date('07/02/14 15:58:47','DD/MM/RR HH24:MI:SS'),'12','France','75','IDF','75019','CF','12','Française',null,'paul.hochon@unicaen.fr','E','216',null,'harpege','56201',null,null,null,null);

Insert into INTERVENANT_PERMANENT (ID,UNITE_RECHERCHE_ID,CORPS_ID,HISTO_DEBUT,HISTO_MODIFICATION,HISTO_FIN,HISTO_CREATEUR,HISTO_MODIFICATEUR,HISTO_DESTRUCTEUR) values ('183',null,'187',to_date('07/02/14 15:58:47','DD/MM/RR HH24:MI:SS'),to_date('07/02/14 15:58:47','DD/MM/RR HH24:MI:SS'),null,'1','1',null);

Insert into INTERVENANT_EXTERIEUR (ID,TYPE_ID,PROFESSION,SITUATION_FAMILIALE_ID,REGIME_SECU_ID,HISTO_DEBUT,HISTO_MODIFICATION,HISTO_FIN,HISTO_CREATEUR,HISTO_MODIFICATEUR,HISTO_DESTRUCTEUR) values ('184',null,'Vigneron',null,'74',to_date('07/02/14 15:58:47','DD/MM/RR HH24:MI:SS'),to_date('07/02/14 15:58:47','DD/MM/RR HH24:MI:SS'),null,'1','1',null);
Insert into INTERVENANT_EXTERIEUR (ID,TYPE_ID,PROFESSION,SITUATION_FAMILIALE_ID,REGIME_SECU_ID,HISTO_DEBUT,HISTO_MODIFICATION,HISTO_FIN,HISTO_CREATEUR,HISTO_MODIFICATEUR,HISTO_DESTRUCTEUR) values ('185',null,'Vigneron',null,'74',to_date('07/02/14 15:58:47','DD/MM/RR HH24:MI:SS'),to_date('07/02/14 15:58:47','DD/MM/RR HH24:MI:SS'),null,'1','1',null);


select 'azertyuiopqsdfghjklmwxcvbné"''(-è_çà)=1234567890°+$ù£%!:;,§/.?<>²¹~#{[|`\^@]}¤''" AZERTYUIOPQSDFGHJKLMWXCVBNÉ"''(-È_ÇÀ)=1234567890°+$Ù£%!:;,§/.?<>²¹~#{[|`\^@]}¤''"' test from dual;
select convert('azertyuiopqsdfghjklmwxcvbné"''(-è_çà)=1234567890°+$ù£%!:;,§/.?<>²¹~#{[|`\^@]}¤''" AZERTYUIOPQSDFGHJKLMWXCVBNÉ"''(-È_ÇÀ)=1234567890°+$Ù£%!:;,§/.?<>²¹~#{[|`\^@]}¤''"', 'US7ASCII', 'AL32UTF8') test from dual;

SELECT i0_.DATE_NAISSANCE           AS DATE_NAISSANCE0,
  i0_.DEP_NAISSANCE_CODE_INSEE      AS DEP_NAISSANCE_CODE_INSEE1,
  i0_.DEP_NAISSANCE_LIBELLE         AS DEP_NAISSANCE_LIBELLE2,
  i0_.EMAIL                         AS EMAIL3,
  i0_.NOM_PATRONYMIQUE              AS NOM_PATRONYMIQUE4,
  i0_.NOM_USUEL                     AS NOM_USUEL5,
  i0_.NUMERO_INSEE                  AS NUMERO_INSEE6,
  i0_.NUMERO_INSEE_CLE              AS NUMERO_INSEE_CLE7,
  i0_.NUMERO_INSEE_PROVISOIRE       AS NUMERO_INSEE_PROVISOIRE8,
  i0_.PAYS_NAISSANCE_CODE_INSEE     AS PAYS_NAISSANCE_CODE_INSEE9,
  i0_.PAYS_NAISSANCE_LIBELLE        AS PAYS_NAISSANCE_LIBELLE10,
  i0_.PAYS_NATIONALITE_CODE_INSEE   AS PAYS_NATIONALITE_CODE_INSEE11,
  i0_.PAYS_NATIONALITE_LIBELLE      AS PAYS_NATIONALITE_LIBELLE12,
  i0_.SOURCE                        AS SOURCE13,
  i0_.SOURCE_ID                     AS SOURCE_ID14,
  i0_.PRENOM                        AS PRENOM15,
  i0_.PRIME_EXCELLENCE_SCIENTIFIQUE AS RIME_EXCELLENCE_SCIENTIFIQUE16,
  i0_.TEL_MOBILE                    AS TEL_MOBILE17,
  i0_.VILLE_NAISSANCE_CODE_INSEE    AS VILLE_NAISSANCE_CODE_INSEE18,
  i0_.VILLE_NAISSANCE_LIBELLE       AS VILLE_NAISSANCE_LIBELLE19,
  i0_.ID                            AS ID20,
  i1_.HISTO_CREATEUR                AS HISTO_CREATEUR21,
  i1_.HISTO_DEBUT                   AS HISTO_DEBUT22,
  i1_.HISTO_DESTRUCTEUR             AS HISTO_DESTRUCTEUR23,
  i1_.HISTO_FIN                     AS HISTO_FIN24,
  i1_.HISTO_MODIFICATEUR            AS HISTO_MODIFICATEUR25,
  i1_.HISTO_MODIFICATION            AS HISTO_MODIFICATION26,
  i2_.HISTO_CREATEUR                AS HISTO_CREATEUR27,
  i2_.HISTO_DEBUT                   AS HISTO_DEBUT28,
  i2_.HISTO_DESTRUCTEUR             AS HISTO_DESTRUCTEUR29,
  i2_.HISTO_FIN                     AS HISTO_FIN30,
  i2_.HISTO_MODIFICATEUR            AS HISTO_MODIFICATEUR31,
  i2_.HISTO_MODIFICATION            AS HISTO_MODIFICATION32,
  i2_.PROFESSION                    AS PROFESSION33,
  i0_.type_id                       AS TYPE_ID34,
  i0_.STRUCTURE_ID                  AS STRUCTURE_ID35,
  i0_.CIVILITE_ID                   AS CIVILITE_ID36,
  i1_.UNITE_RECHERCHE_ID            AS UNITE_RECHERCHE_ID37,
  i1_.CORPS_ID                      AS CORPS_ID38,
  i2_.SITUATION_FAMILIALE_ID        AS SITUATION_FAMILIALE_ID39,
  i2_.REGIME_SECU_ID                AS REGIME_SECU_ID40
FROM INTERVENANT i0_
LEFT JOIN INTERVENANT_PERMANENT i1_
ON i0_.ID = i1_.ID
LEFT JOIN INTERVENANT_EXTERIEUR i2_
ON i0_.ID           = i2_.ID
WHERE i0_.SOURCE_ID = ?
OR UPPER(CONVERT(i0_.NOM_USUEL || i0_.PRENOM, ?)) LIKE UPPER(CONVERT(?, ?))
OR UPPER(CONVERT(i0_.NOM_PATRONYMIQUE || i0_.PRENOM, ?)) LIKE UPPER(CONVERT(?, ?))
OR UPPER(CONVERT(i0_.PRENOM || i0_.NOM_USUEL, ?)) LIKE UPPER(CONVERT(?, ?))
OR UPPER(CONVERT(i0_.PRENOM || i0_.NOM_PATRONYMIQUE, ?)) LIKE UPPER(CONVERT(?, ?))
ORDER BY i0_.NOM_USUEL ASC, i0_.PRENOM ASC


CREATE SEQUENCE ADRESSE_INTERVENANT_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE ADRESSE_STRUCTURE_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE AGREMENT_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
--CREATE SEQUENCE ANNEE_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
--CREATE SEQUENCE BIS_TER_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE CHEMIN_PEDAGOGIQUE_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
--CREATE SEQUENCE CIVILITE_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE COMPTE_BANCAIRE_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE CORPS_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE DIPLOME_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE DIPLOME_ETAPE_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE ELEMENT_PEDAGOGIQUE_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE EMPLOI_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE EMPLOYEUR_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE ETABLISSEMENT_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE ETAPE_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE FONCTION_REFERENTIEL_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE INTERVENANT_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
--CREATE SEQUENCE INTERVENANT_EXTERIEUR_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
--CREATE SEQUENCE INTERVENANT_PERMANENT_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE INTERVENANT_SECTION_CNU_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE MOTIF_NON_PAIEMENT_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE PERIODE_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE PERIODE_TYPE_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE PERSONNEL_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE PIECE_JOINTE_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE PRIME_EXCELLENCE_SCIENT_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
--CREATE SEQUENCE REGIME_SECU_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE ROLE_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE SECTION_CNU_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE SERVICE_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE SERVICE_REFERENTIEL_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE SITUATION_FAMILIALE_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE STRUCTURE_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE TYPE_DIPLOME_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE TYPE_FORMATION_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
--CREATE SEQUENCE TYPE_INTERVENANT_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE TYPE_INTERVENANT_EXTERIEUR_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE TYPE_INTERVENTION_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE TYPE_PIECE_JOINTE_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE TYPE_ROLE_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE TYPE_ROLE_STRUCTURE_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE TYPE_STRUCTURE_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
CREATE SEQUENCE VOLUME_HORAIRE_ID_SEQ INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;

drop  SEQUENCE SOURCE_ID_SEQ 
drop  SEQUENCE REGIME_SECU_ID_SEQ 

delete from intervenant;
delete from TYPE_INTERVENANT;
delete from corps;
delete from structure;
delete from type_structure;
delete from ETABLISSEMENT;
delete from REGIME_SECU;
delete from source;
commit;

INSERT INTO "OSE"."TYPE_INTERVENANT" (ID, LIBELLE) VALUES (1, 'Permanent');
INSERT INTO "OSE"."TYPE_INTERVENANT" (ID, LIBELLE) VALUES (2, 'Extérieur');

INSERT INTO INTERVENANT (DATE_NAISSANCE, DEP_NAISSANCE_CODE_INSEE, DEP_NAISSANCE_LIBELLE, EMAIL, ID, NOM_PATRONYMIQUE, NOM_USUEL, PAYS_NAISSANCE_CODE_INSEE, PAYS_NAISSANCE_LIBELLE,
PAYS_NATIONALITE_CODE_INSEE, PAYS_NATIONALITE_LIBELLE, PERSONNEL_ID, PRENOM, PRIME_EXCELLENCE_SCIENTIFIQUE, TEL_MOBILE, VILLE_NAISSANCE_CODE_INSEE, VILLE_NAISSANCE_LIBELLE, 
CIVILITE_ID, STRUCTURE_ID, type_id) VALUES 
('31/01/1975', '75', 'IDF', 'paul.hochon@unicaen.fr', 12, 'Hochon', 'Hochon', '12', 'France', '12', 'Franaise', null, 'Paul', null, null, '75019', 'CF', null, 20, 1);

select * from corps;
select * from structure;
select * from intervenant;
select * from INTERVENANT;
select * from INTERVENANT_PERMANENT;
select * from INTERVENANT_EXTERIEUR;
select * from REGIME_SECU;

delete from corps;
delete from structure;
delete from intervenant;
delete from INTERVENANT;
delete from REGIME_SECU;

select 'drop table '||table_name||';' from all_tables where table_name like 'BCP%';

drop table BCP_AGREMENT;
drop table BCP_ANNEE;
drop table BCP_BIS_TER;
drop table BCP_CHEMIN_PEDAGOGIQUE;
drop table BCP_CIVILITE;
drop table BCP_COMPTE_BANCAIRE;
drop table BCP_CORPS;
drop table BCP_DIPLOME;
drop table BCP_DIPLOME_ETAPE;
drop table BCP_ELEMENT_PEDAGOGIQUE;
drop table BCP_EMPLOI;
drop table BCP_EMPLOYEUR;
drop table BCP_ETAPE;
drop table BCP_FONCTION_REFERENTIEL;
drop table BCP_INTERVENANT_EXTERIEUR;
drop table BCP_INTERVENANT_PERMANENT;
drop table BCP_INTERVENANT_SECTION_CNU;
drop table BCP_MOTIF_NON_PAIEMENT;
drop table BCP_PERIODE;
drop table BCP_PERIODE_TYPE;
drop table BCP_PERSONNEL;
drop table BCP_PRIME_EXCELLENCE_SCIENTIFI;
drop table BCP_REGIME_SECU;
drop table BCP_SECTION_CNU;
drop table BCP_SERVICE;
drop table BCP_SERVICE_REFERENTIEL;
drop table BCP_SITUATION_FAMILIALE;
drop table BCP_STRUCTURE;
drop table BCP_TYPE_DIPLOME;
drop table BCP_TYPE_INTERVENANT_EXTERIEUR;
drop table BCP_TYPE_INTERVENTION;
drop table BCP_VOLUME_HORAIRE;
drop table BCP_TYPE_INTERVENANT;

