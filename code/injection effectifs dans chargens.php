<?php


/**
 * @var $this       \Application\View\Renderer\PhpRenderer
 * @var $controller \Zend\Mvc\Controller\AbstractController
 * @var $container  \Psr\Container\ContainerInterface
 * @var $viewName   string
 * @var $viewFile   string
 */

$data = "2019	ADDU01_211	4	0	5
2019	AGR060_961	5	0	0
2019	AGR120_961	2	0	0
2019	AGR130_961	20	0	0
2019	AGR160_961	11	0	0
2019	AGR220_961	21	0	0
2019	ARAU01_801	1	0	0
2019	ARAU02_801	2	0	0
2019	AUD6ME_201	5	0	0
2019	BATE00_201	50	0	0
2019	BATE00_202	32	0	0
2019	BATE00_203	34	0	0
2019	BATE01_211	41	0	0
2019	BATE02_212	18	12	0
2019	BATE03_213	27	0	0
2019	CAPEFE_20	20	0	0
2019	CEJUR_910	64	0	0
2019	CGEUCA_801	0	0	84
2019	CLEAN1_901	453	2	10
2019	CLEAN2_901	370	5	0
2019	CPAA01_301	5	0	0
2019	CPAA02_301	7	0	0
2019	CPAD01_301	20	0	0
2019	CPAD02_301	12	0	0
2019	CPAD03_312	1	0	0
2019	CPAD03_313	1	0	0
2019	CPAE01_301	9	0	0
2019	CPAE02_301	9	0	0
2019	CPAE03_311	1	0	0
2019	CPAI01_301	3	0	0
2019	CPAI02_301	1	0	0
2019	CPAL01_301	1	0	0
2019	CPAL02_301	1	0	0
2019	CPAP01_301	2	0	0
2019	CPAP02_302	2	0	0
2019	CPAP03_311	1	0	0
2019	CPAR01_301	7	0	0
2019	CPAR02_302	4	0	0
2019	CPAR02_303	6	0	0
2019	CPAR03_313	1	0	0
2019	CPBI01_301	36	0	0
2019	CPBI02_304	17	0	0
2019	CPCH01_301	26	0	0
2019	CPCH02_301	25	0	0
2019	CPCH03_311	10	0	0
2019	CPECO1_301	56	0	0
2019	CPECO2_301	22	0	0
2019	CPECO3_311	3	0	0
2019	CPEEA1_301	8	0	0
2019	CPEEA2_301	8	0	0
2019	CPEEA3_311	1	0	0
2019	CPES01_301	2	0	0
2019	CPES02_301	5	0	0
2019	CPGES1_301	8	0	0
2019	CPGES2_301	17	0	0
2019	CPGE01_301	3	0	0
2019	CPGE02_301	4	0	0
2019	CPHI01_301	23	0	0
2019	CPHI02_302	2	0	0
2019	CPHI02_303	1	0	0
2019	CPHI02_304	8	0	0
2019	CPHI03_312	1	0	0
2019	CPIT01_301	1	0	0
2019	CPIT02_301	1	0	0
2019	CPLC02_302	9	0	0
2019	CPLET1_301	13	0	0
2019	CPLM02_301	21	0	0
2019	CPMA01_301	127	0	0
2019	CPMA02_301	87	0	0
2019	CPMA03_311	16	0	0
2019	CPMEC1_301	8	0	0
2019	CPMEC2_100	7	0	0
2019	CPMEC3_311	1	0	0
2019	CPMI01_301	22	0	0
2019	CPMI02_301	14	0	0
2019	CPMI03_311	2	0	0
2019	CPNG01_301	18	0	0
2019	CPNG02_301	10	0	0
2019	CPNG03_311	1	0	0
2019	CPPHI1_301	5	0	0
2019	CPPHI2_301	9	0	0
2019	CPPHI2_303	2	0	0
2019	CPPHI3_311	3	0	0
2019	CPPHI3_312	1	0	0
2019	CPPY01_301	65	0	0
2019	CPPY02_301	65	0	0
2019	CPPY03_311	7	0	0
2019	CPSAN1_301	4	0	0
2019	CPSAN2_301	3	0	0
2019	CPSAN3_311	2	0	0
2019	CPSOC1_301	3	0	0
2019	CPSOC2_302	4	0	0
2019	CPSOC3_312	1	0	0
2019	CPST01_301	1	0	0
2019	CPST02_301	4	0	0
2019	CPSVT1_301	35	0	0
2019	CPSVT2_301	20	0	0
2019	CPSVT3_311	1	0	0
2019	CPVIE3_311	10	0	0
2019	CPVIE3_312	2	0	0
2019	CSGU01_201	40	0	0
2019	CSGU02_211	31	0	0
2019	CSSAP1_201	45	0	0
2019	CSSAP2_211	24	0	0
2019	C2I2E_201	294	0	1
2019	DAEAG1_801	0	0	13
2019	DAEAG1_960	0	0	66
2019	DAMED4_201	232	0	0
2019	DAMED5_211	220	0	0
2019	DAMED6_211	210	0	0
2019	DAPH4O_201	51	0	0
2019	DAPH5I_202	37	0	0
2019	DAPH5O_201	60	0	0
2019	DAPH5R_203	2	0	0
2019	DAPH6I_202	29	0	0
2019	DAPH6O_201	38	0	0
2019	DAPH6R_203	1	0	0
2019	DAP4IN_202	42	0	0
2019	DAP4IR_203	54	0	0
2019	DAP5IN_204	17	0	0
2019	DCAD02_201	1	0	0
2019	DCAI01_201	1	0	0
2019	DCAI02_201	2	0	0
2019	DCCA01_201	8	0	0
2019	DCCA02_201	13	0	0
2019	DCCD01_201	3	0	0
2019	DCCD02_201	2	0	0
2019	DCCD03_201	3	0	0
2019	DCCI02_201	1	0	0
2019	DCCM01_201	2	0	0
2019	DCCM02_201	1	0	0
2019	DCCM03_201	3	0	0
2019	DCCO01_201	3	0	0
2019	DCCO02_201	5	0	0
2019	DCCO03_201	2	0	0
2019	DCCU01_201	2	0	0
2019	DCCU02_201	3	0	0
2019	DCCU03_201	2	0	0
2019	DCCV02_201	1	0	0
2019	DCCV03_201	2	0	0
2019	DCFO02_201	1	0	0
2019	DCMD01_201	1	0	0
2019	DCMD02_201	2	0	0
2019	DCML02_201	2	0	0
2019	DCMR01_201	5	0	0
2019	DCMR02_201	1	0	0
2019	DCMS01_201	1	0	0
2019	DCMS02_201	1	0	0
2019	DCMU02_201	11	0	0
2019	DCMV02_201	2	0	0
2019	DCNE01_201	2	0	0
2019	DCNE02_201	2	0	0
2019	DCNU01_201	1	0	0
2019	DCNU02_201	1	0	0
2019	DCOD02_201	1	0	0
2019	DCPC02_201	1	0	0
2019	DCPS01_201	2	0	0
2019	DCPS02_201	5	0	0
2019	DCPT01_201	2	0	0
2019	DCPT02_201	7	0	0
2019	DCRM01_201	4	0	0
2019	DCRM02_201	7	0	0
2019	DCRM03_201	4	0	0
2019	DEIS01_201	0	0	3
2019	DEIS03_201	0	0	4
2019	DEPHAR_14	156	0	0
2019	DESONC_611	5	0	0
2019	DESONC_612	5	0	0
2019	DICAR1_901	1	0	0
2019	DICAR2_901	0	0	2
2019	DIFSS0_201	0	0	12
2019	DIUEI2_901	0	0	73
2019	DIUSAN_701	0	0	10
2019	DIUTEL_901	0	0	6
2019	DPHSO1_901	8	0	0
2019	DRIJC1_104	18	0	0
2019	DRSNO0_961	44	0	0
2019	DRU3N0_961	0	0	14
2019	DSACY_601	4	0	0
2019	DSARE_601	31	0	0
2019	DSBME_601	2	0	0
2019	DSBME_602	9	0	0
2019	DSCG01_801	0	17	0
2019	DSCG02_901	0	9	1
2019	DSCHG_601	22	0	0
2019	DSCHO_601	1	0	0
2019	DSCVA_601	11	0	0
2019	DSDVE_601	4	0	0
2019	DSEDM_601	3	0	0
2019	DSGEH_601	4	0	0
2019	DSGME_601	2	0	0
2019	DSGYM_601	3	0	0
2019	DSGYO_601	13	0	0
2019	DSHEM_601	3	0	0
2019	DSIPR4_14	2	0	0
2019	DSMGE_601	21	0	0
2019	DSMIN_601	7	0	0
2019	DSMNU_601	3	0	0
2019	DSMPR_601	7	0	0
2019	DSMTR_601	1	0	0
2019	DSNCH_601	3	0	0
2019	DSNEP_601	3	0	0
2019	DSNEU_601	4	0	0
2019	DSOPH_601	5	0	0
2019	DSORL_601	5	0	0
2019	DSPED_601	12	0	0
2019	DSPH4_14	9	0	0
2019	DSPNE_601	5	0	0
2019	DSPSY_601	25	0	0
2019	DSRHU_601	4	0	0
2019	DSRIM_601	17	0	0
2019	DSSPM_601	4	0	0
2019	DUAUT1_901	3	0	9
2019	DUCA01_901	5	0	2
2019	DUDPO_801	7	0	11
2019	DUEEFT_801	30	0	0
2019	DUEF1_201	5	0	0
2019	DUEF2_201	62	0	0
2019	DUEN01_801	3	0	0
2019	DUEXPJ_201	0	0	17
2019	DUFPD1_201	3	0	11
2019	DUF1A1_201	13	0	0
2019	DUF1A2_201	35	0	0
2019	DUF1B1_201	56	0	1
2019	DUF1B2_201	24	0	0
2019	DUF1C1_201	7	0	1
2019	DUF2A1_201	12	0	0
2019	DUF2A2_201	23	0	0
2019	DUF2B1_201	56	0	0
2019	DUF2B2_201	43	0	0
2019	DUF2C1_201	18	0	0
2019	DUINES_901	0	0	17
2019	DUMDCV_801	1	0	6
2019	DUMFDC_701	0	0	8
2019	DUMIC1_901	5	0	1
2019	DUMJPM_801	0	0	25
2019	DUMLF_711	0	0	12
2019	DUMLF_712	0	0	23
2019	DUMLF_713	0	0	18
2019	DUNEU1_201	0	0	13
2019	DUNEU1_901	0	0	13
2019	DUOST1_14	10	0	5
2019	DUOST2_14	11	0	3
2019	DUOST3_14	14	0	7
2019	DUPLCI_211	0	0	32
2019	DUPROC_14	9	0	5
2019	DUPV01_201	3	0	8
2019	DUTHI1_211	0	0	8
2019	DUTRAN_11	0	0	15
2019	DUURBA_801	0	0	22
2019	DU1B1P_201	23	0	1
2019	DU1DG_201	27	0	0
2019	DU1DG_202	28	0	0
2019	DU1DG_203	30	0	0
2019	DU2B1P_201	55	0	0
2019	DU2DG_201	79	0	0
2019	D2E_701	4	0	0
2019	ECME0E_961	13	0	0
2019	ETE201_102	4	0	0
2019	ETE202_102	12	0	0
2019	ETE203_102	15	0	0
2019	EX1A2_901	2	0	0
2019	EX1B1_901	5	0	0
2019	EX1B2_901	1	0	0
2019	EX2A1_901	2	0	0
2019	EX2A2_901	2	0	0
2019	EX2B1P_901	3	0	0
2019	EX2B1_901	4	0	0
2019	EX2B2_901	3	0	0
2019	EX2C1_901	1	0	0
2019	GATEA0_201	160	0	0
2019	GATEA1_211	12	0	0
2019	GATEA2_212	37	0	0
2019	GATEA3_213	51	0	0
2019	GCTE1_201	52	0	0
2019	GCTE2_211	43	0	0
2019	GEA01_201	97	0	0
2019	GEA1_211	22	0	1
2019	GEA2_212	16	0	1
2019	GEA3_213	28	0	1
2019	GEIIA1_202	0	14	0
2019	GEIIA2_212	0	9	2
2019	GEII01_201	46	0	0
2019	GEII02_211	38	0	0
2019	GIMA01_202	0	14	0
2019	GIMA2_212	0	11	2
2019	GIM01_201	34	0	0
2019	GIM02_211	23	0	0
2019	GLTAS_211	5	6	2
2019	GLT01_201	51	0	0
2019	GLT02_211	47	0	4
2019	GMP01_201	63	0	0
2019	GMP02_211	49	0	1
2019	GTE01_201	49	0	0
2019	GTE02_211	30	0	0
2019	HCCPA_304	0	0	13
2019	HCCPA_305	0	0	8
2019	HCCPA_306	0	0	8
2019	HCONSP_802	0	0	15
2019	HCONSP_803	0	0	15
2019	HVAEP_301	0	0	2
2019	HYTE01_201	59	0	0
2019	HYTE02_211	43	0	2
2019	ICPCO1_201	54	0	0
2019	ICPCO2_211	55	0	0
2019	ICPCP1_201	28	0	0
2019	ICPCP2_211	26	0	0
2019	INGAA0_400	1	0	0
2019	INGA01_201	0	14	0
2019	INGA01_801	34	0	0
2019	INGA02_201	0	13	0
2019	INGA02_901	33	0	0
2019	INGA03_213	29	0	0
2019	INGA03_214	0	15	0
2019	INGGE1_202	0	13	0
2019	INGGE1_203	63	0	0
2019	INGGE2_201	12	0	0
2019	INGGE2_202	49	0	0
2019	INGGE2_203	0	23	1
2019	INGGE3_201	75	0	0
2019	INGGE3_202	12	0	0
2019	INGGE3_203	0	19	1
2019	INGME1_201	31	0	0
2019	INGME2_201	29	0	0
2019	INGME3_201	30	0	0
2019	INGSI0_400	2	0	0
2019	INTE1_201	92	0	0
2019	INTE2_211	63	0	0
2019	ITU103_201	2	0	0
2019	LDRDEP_500	4	0	0
2019	L2MEDE_201	212	0	0
2019	L2PHAR_201	163	0	0
2019	L3MEDE_201	215	0	0
2019	L3PHAR_201	129	0	0
2019	MDRDP_500	3	0	0
2019	MECAAP_961	1	0	0
2019	MECAA1_961	1	0	0
2019	MECAD2_102	2	0	0
2019	MECASP_961	7	0	0
2019	MECAS0_961	6	0	0
2019	MEDUG2_104	11	0	0
2019	MEDUO1_105	4	0	0
2019	MEDUSO_801	3	0	7
2019	METEG_611	207	0	0
2019	METES_611	222	0	0
2019	MEUDP1_211	0	0	6
2019	MEUGE0_701	2	0	15
2019	MEUPR0_100	2	0	29
2019	MEUQU0_701	2	0	30
2019	MEURS1_106	2	0	0
2019	MEURS2_106	3	0	0
2019	MEU3B0_961	8	0	0
2019	MEU3C0_961	12	0	3
2019	MEU3D1_961	20	0	4
2019	MEU3I1_961	0	0	5
2019	MEU3I2_961	0	0	4
2019	MEU3Q0_971	3	0	22
2019	MEU3X1_104	2	0	0
2019	MEU3X2_105	3	0	0
2019	MMI01_201	56	0	0
2019	MMI02_211	45	0	0
2019	MPTE1_201	131	0	0
2019	MPTE2_211	40	0	8
2019	MPTI2_212	38	0	6
2019	MSEAS0_400	13	0	0
2019	M1DOC1_201	6	0	0
2019	M1EE01_201	20	0	0
2019	M1EPS1_201	76	0	0
2019	M1HIG1_201	29	0	0
2019	M1LMO1_201	16	0	0
2019	M1LVE1_201	38	0	0
2019	M1MAT1_201	27	0	0
2019	M1PCH1_201	15	0	0
2019	M1PD01_201	134	0	7
2019	M1PD01_202	53	0	0
2019	M1PD01_203	45	0	0
2019	M1PIF_203	9	0	0
2019	M1PIF_204	8	0	0
2019	M1SES1_201	8	0	0
2019	M1SVT1_201	7	0	0
2019	M2DOC2_211	10	0	0
2019	M2EE02_211	22	0	0
2019	M2EPS2_211	47	0	0
2019	M2HIG2_211	20	0	0
2019	M2LMO2_211	14	0	0
2019	M2LVE2_211	33	0	0
2019	M2MAT2_211	18	0	0
2019	M2PCH2_211	6	0	0
2019	M2PD02_211	140	0	1
2019	M2PD02_212	46	0	0
2019	M2PD02_213	78	0	0
2019	M2PIF_211	10	0	2
2019	M2PIF_212	2	0	8
2019	M2PIF_213	10	0	0
2019	M2PIF_214	13	0	0
2019	M2PLPA_211	4	0	0
2019	M2SES2_211	11	0	0
2019	M2SVT2_211	10	0	0
2019	OFNEC0_961	19	0	0
2019	ONRHU1_201	4	0	0
2019	ORTH01_201	28	0	0
2019	ORTH02_201	28	0	0
2019	ORTH03_201	26	0	0
2019	ORTH04_201	31	0	0
2019	ORTH05_201	27	0	0
2019	PACES_10	1384	0	0
2019	PAU3O0_961	8	0	5
2019	PCRFPA_201	78	0	4
2019	PLAGRI_711	3	8	0
2019	PLAGRO_711	10	9	0
2019	PLAIIC_711	9	1	11
2019	PLAIIS_711	5	8	3
2019	PLASGR_711	0	12	8
2019	PLASSA_711	0	2	1
2019	PLCAGR_712	0	9	10
2019	PLCHEV_711	13	0	2
2019	PLCLIE_711	0	8	5
2019	PLCLIE_712	0	5	12
2019	PLCOMM_711	24	0	0
2019	PLCOM_711	15	0	2
2019	PLEAGR_711	13	0	3
2019	PLEBTP_711	0	18	2
2019	PLECOM_711	21	2	3
2019	PLELEC_711	6	0	3
2019	PLINST_711	0	16	3
2019	PLLOGE_711	7	11	0
2019	PLMANA_711	9	0	2
2019	PLNOTA_711	1	0	0
2019	PLNOTA_712	0	0	31
2019	PLNUCL_711	1	10	0
2019	PLPDTI_711	3	21	1
2019	PLPHAR_711	10	9	0
2019	PLPLAS_711	1	13	0
2019	PLPROD_711	0	0	25
2019	PLQSEN_711	1	9	11
2019	PLREST_711	25	1	3
2019	PLRISQ_711	0	0	31
2019	PLSECU_711	1	12	5
2019	PLSERV_711	18	0	7
2019	PLSIAS_711	18	0	0
2019	PLSITE_711	20	0	4
2019	PLTERR_711	11	0	0
2019	PMFCM1_201	0	0	5
2019	PMFCM3_201	0	0	4
2019	PMFCM4_201	0	0	6
2019	PODU01_104	4	0	0
2019	PODU03_104	1	0	0
2019	PRDU01_104	1	0	0
2019	PRDU02_104	1	0	0
2019	PREENM_201	10	0	0
2019	PRIMDA_201	18	0	0
2019	PROXDU_801	0	0	14
2019	PROXDU_802	0	0	6
2019	QLIOA2_211	16	0	7
2019	QLIO01_201	29	0	0
2019	QUME00_961	2	0	0
2019	RACP1_701	2	0	0
2019	RACP2_701	2	0	0
2019	RACP3_701	2	0	0
2019	RADU01_802	0	0	8
2019	RALL1_701	1	0	0
2019	RALL2_701	1	0	0
2019	RALL3_701	1	0	0
2019	RANR1_701	15	0	0
2019	RANR2_701	15	0	0
2019	RANR3_701	13	0	0
2019	RBM1_701	1	0	0
2019	RBM1_702	6	0	0
2019	RBM2_701	1	0	0
2019	RBM2_702	7	0	0
2019	RBM3_701	1	0	0
2019	RBM3_702	5	0	0
2019	RCMF1_701	1	0	0
2019	RCMF2_701	1	0	0
2019	RCMF3_701	2	0	0
2019	RCOT1_701	3	0	0
2019	RCOT2_701	3	0	0
2019	RCOT3_701	3	0	0
2019	RCO1_701	1	0	0
2019	RCO2_701	1	0	0
2019	RCO3_701	1	0	0
2019	RCP1_701	1	0	0
2019	RCP3_701	1	0	0
2019	RCT3_701	2	0	0
2019	RCVD1_701	2	0	0
2019	RCVD2_701	2	0	0
2019	RCVD3_701	2	0	0
2019	RCV1_701	1	0	0
2019	RCV2_701	1	0	0
2019	RCV3_701	1	0	0
2019	RDV1_701	2	0	0
2019	RDV2_701	3	0	0
2019	RDV3_701	3	0	0
2019	REDN1_701	2	0	0
2019	REDN2_701	2	0	0
2019	REDN3_701	1	0	0
2019	REODU0_701	0	0	2
2019	RETC01_201	64	11	0
2019	RETC02_211	38	12	0
2019	RGE1_701	2	0	0
2019	RGE2_701	1	0	0
2019	RGE3_701	1	0	0
2019	RGM2_701	1	0	0
2019	RGM3_701	1	0	0
2019	RGYM1_701	2	0	0
2019	RGYM2_701	2	0	0
2019	RGYM3_701	2	0	0
2019	RGYO1_701	5	0	0
2019	RGYO2_701	5	0	0
2019	RGYO3_701	4	0	0
2019	RHEM1_701	1	0	0
2019	RHEM2_701	1	0	0
2019	RHEM3_701	1	0	0
2019	RHGE1_701	5	0	0
2019	RHGE2_701	4	0	0
2019	RHGE3_701	6	0	0
2019	RMCV1_701	8	0	0
2019	RMCV2_701	7	0	0
2019	RMCV3_701	9	0	0
2019	RMG1_701	90	0	0
2019	RMG2_701	71	0	0
2019	RMG3_701	69	0	0
2019	RMIIC1_701	4	0	0
2019	RMIIC2_701	4	0	0
2019	RMIIC3_701	4	0	0
2019	RMIR1_701	2	0	0
2019	RMIR2_701	3	0	0
2019	RMIR3_701	2	0	0
2019	RMIT1_701	1	0	0
2019	RMIT2_701	1	0	0
2019	RMIT3_701	1	0	0
2019	RML1_701	1	0	0
2019	RML2_701	1	0	0
2019	RML3_701	1	0	0
2019	RMN1_701	2	0	0
2019	RMN2_701	1	0	0
2019	RMN3_701	2	0	0
2019	RMPR1_701	3	0	0
2019	RMPR2_701	4	0	0
2019	RMPR3_701	4	0	0
2019	RMST1_701	2	0	0
2019	RMST2_701	1	0	0
2019	RMU1_701	14	0	0
2019	RMU2_701	16	0	0
2019	RMU3_701	9	0	0
2019	RMV1_701	1	0	0
2019	RMV2_701	1	0	0
2019	RMV3_701	2	0	0
2019	RNEP1_701	3	0	0
2019	RNEP2_701	2	0	0
2019	RNEP3_701	3	0	0
2019	RNEUR1_701	1	0	0
2019	RNEUR2_701	1	0	0
2019	RNEUR3_701	1	0	0
2019	RNEU1_701	4	0	0
2019	RNEU2_701	7	0	0
2019	RNEU3_701	3	0	0
2019	RONM2_701	3	0	0
2019	RONM3_701	1	0	0
2019	RONR2_701	1	0	0
2019	RONR3_701	2	0	0
2019	RON1_701	4	0	0
2019	ROPH1_701	2	0	0
2019	ROPH2_701	3	0	0
2019	ROPH3_701	2	0	0
2019	RORL1_701	2	0	0
2019	RORL2_701	2	0	0
2019	RORL3_701	1	0	0
2019	RPE1_701	10	0	0
2019	RPE2_701	10	0	0
2019	RPE3_701	9	0	0
2019	RPHPR2_701	11	0	0
2019	RPHPR3_701	9	0	0
2019	RPN1_701	4	0	0
2019	RPN2_701	4	0	0
2019	RPN3_701	4	0	0
2019	RPS1_701	3	0	0
2019	RPS2_701	20	0	0
2019	RPS3_701	8	0	0
2019	RRHU1_701	2	0	0
2019	RRHU2_701	2	0	0
2019	RRHU3_701	2	0	0
2019	RRIM1_701	6	0	0
2019	RRIM2_701	7	0	0
2019	RRIM3_701	6	0	0
2019	RSIPR1_701	1	0	0
2019	RSIPR2_701	1	0	0
2019	RSIPR3_701	4	0	0
2019	RSP1_701	4	0	0
2019	RSP2_701	4	0	0
2019	RSP3_701	1	0	0
2019	RURO1_701	1	0	0
2019	RURO2_701	1	0	0
2019	RURO3_701	2	0	0
2019	RUU101_961	2	0	0
2019	SFEMM2_201	24	0	0
2019	SFEMM3_201	24	0	0
2019	SFEMM4_201	25	0	0
2019	SFEMM5_201	25	0	0
2019	STID01_201	52	0	0
2019	STID02_211	42	0	0
2019	TCLI01_201	59	0	0
2019	TCLI02_211	48	0	2
2019	TCSP1A_912	26	0	0
2019	TCTE01_201	138	0	0
2019	TCTE02_211	130	0	0
2019	TC01_201	111	0	0
2019	TC02_211	106	0	0
2019	WELCOM_901	166	0	0
2019	1LAECO_701	220	0	0
2019	1LALL_701	12	0	0
2019	1LANGL_701	341	0	0
2019	1LANGL_702	103	0	0
2019	1LAPUB_701	33	0	0
2019	1LART_701	304	0	0
2019	1LCHIM_701	88	0	0
2019	1LDROI_701	496	0	0
2019	1LDROI_702	423	0	0
2019	1LDROI_703	101	0	0
2019	1LECO_701	167	0	0
2019	1LEDUC_701	225	0	0
2019	1LEEEA_701	22	0	0
2019	1LESPA_701	73	0	0
2019	1LGEO_901	104	0	0
2019	1LGEST_701	172	0	0
2019	1LHIS1_901	323	0	0
2019	1LHIS1_902	126	0	0
2019	1LHUMA_701	24	0	0
2019	1LINFO_701	267	0	0
2019	1LITAL_701	12	0	0
2019	1LLAN1_701	57	0	0
2019	1LLAN1_702	48	0	0
2019	1LLEAA_701	71	0	0
2019	1LLEAE_701	396	0	0
2019	1LLEAI_701	74	0	0
2019	1LLEAR_701	57	0	0
2019	1LLET1_701	113	0	0
2019	1LLET1_702	47	0	0
2019	1LMATH_701	105	0	0
2019	1LMECA_701	17	0	0
2019	1LMIAS_701	82	0	0
2019	1LNORD_701	38	0	0
2019	1LPCI_901	38	0	0
2019	1LPHIL_901	48	0	0
2019	1LPHYS_701	62	0	0
2019	1LPHY_701	18	0	0
2019	1LPSYC_701	527	0	0
2019	1LRUSS_701	13	0	0
2019	1LSANT_701	124	0	0
2019	1LSOC_901	200	0	0
2019	1LSTAP_701	323	0	0
2019	1LSTAP_702	303	0	0
2019	1LSVIE_701	210	0	0
2019	1LSVT_701	61	0	0
2019	1LTERR_701	59	0	0
2019	1MADMI_701	16	0	0
2019	1MAGRO_701	18	0	0
2019	1MAPAS_701	12	0	0
2019	1MARD1_701	34	0	0
2019	1MARD2_701	13	0	0
2019	1MARD3_701	18	0	0
2019	1MARD3_702	12	0	0
2019	1MARD4_701	16	0	0
2019	1MBIOA_701	10	0	0
2019	1MBIOS_701	15	0	0
2019	1MBIOS_702	65	0	0
2019	1MBIPH_701	12	0	0
2019	1MCGAO_701	1	8	8
2019	1MCHIM_701	20	0	0
2019	1MCOMP_701	30	0	0
2019	1MCOMP_702	1	32	0
2019	1MCOMP_703	0	0	13
2019	1MDAFF_701	23	0	0
2019	1MDASS_701	19	0	0
2019	1MDCIV_701	11	0	0
2019	1MDENT_701	55	0	0
2019	1MDLIB_701	34	0	0
2019	1MDNOT_701	37	0	0
2019	1MDNUM_701	33	0	0
2019	1MDPUB_701	24	0	0
2019	1MEDUC_701	17	0	2
2019	1MEMP_901	17	0	0
2019	1MENMP_901	30	0	0
2019	1MERGO_701	16	0	0
2019	1MGEO1_701	17	0	0
2019	1MGEO2_701	13	0	0
2019	1MGPRO_701	0	33	0
2019	1MGRH_701	1	17	4
2019	1MHIS1_701	58	0	0
2019	1MHIS1_702	19	0	0
2019	1MHIS2_701	19	0	0
2019	1MHIS3_701	7	0	0
2019	1MINFO_701	72	0	0
2019	1MINNO_701	15	0	0
2019	1MJUST_701	61	0	0
2019	1MLAN1_701	11	0	0
2019	1MLAN2_701	2	0	0
2019	1MLEA2_701	22	0	0
2019	1MLEA3_701	13	0	0
2019	1MLEA_701	13	0	0
2019	1MLIV1_701	10	0	0
2019	1MLIV2_701	12	0	0
2019	1MLLC1_701	11	0	0
2019	1MLLC2_701	12	0	0
2019	1MLLC3_701	24	0	0
2019	1MLLC3_702	15	0	0
2019	1MMANA_701	0	0	12
2019	1MMANA_702	0	0	21
2019	1MMARK_701	1	16	3
2019	1MMAS_701	23	0	0
2019	1MMATH_701	11	0	0
2019	1MMECA_701	11	0	0
2019	1MMICR_701	17	0	0
2019	1MMICR_702	9	0	0
2019	1MMIM_701	39	0	0
2019	1MMINN_701	14	0	0
2019	1MMONN_701	23	0	0
2019	1MMONN_702	1	5	10
2019	1MMONN_703	0	5	16
2019	1MMSS1_701	28	0	7
2019	1MMSS2_701	17	0	2
2019	1MMSS3_701	0	0	25
2019	1MMSS4_701	6	0	81
2019	1MNEUR_701	55	0	0
2019	1MNEU1_701	17	0	0
2019	1MNEU2_701	21	0	0
2019	1MNUTR_701	8	0	0
2019	1MPATR_701	0	6	15
2019	1MPATR_703	0	0	11
2019	1MPATR_704	0	0	13
2019	1MPATR_705	0	0	11
2019	1MPATR_706	0	0	11
2019	1MPATR_707	0	0	13
2019	1MPATR_708	0	0	11
2019	1MPHIL_701	25	0	0
2019	1MPHYS_701	10	0	0
2019	1MPSY1_701	18	0	0
2019	1MPSY2_701	15	0	0
2019	1MPSY3_701	10	0	0
2019	1MPSY4_701	20	0	0
2019	1MPSY5_701	12	0	0
2019	1MSANT_701	83	0	0
2019	1MSCM1_701	8	0	0
2019	1MSCM2_701	7	0	0
2019	1MSMER_701	24	0	0
2019	1MSOC1_701	21	0	0
2019	1MSOC1_702	45	0	0
2019	1MSOC2_701	19	0	0
2019	1MSTAR_701	20	0	0
2019	1MSTPE_701	19	0	0
2019	1MSTRA_701	1	5	7
2019	1MURBA_701	18	0	0
2019	2LAECO_701	115	0	0
2019	2LALL_701	2	0	0
2019	2LANGL_701	162	0	0
2019	2LANGL_702	38	0	0
2019	2LAPUB_701	8	0	0
2019	2LART1_701	99	0	0
2019	2LART2_701	29	0	0
2019	2LCHIM_701	55	0	0
2019	2LDROI_701	494	0	0
2019	2LDROI_703	34	0	0
2019	2LECO_701	83	0	0
2019	2LEDUC_701	180	0	0
2019	2LEEEA_701	25	0	0
2019	2LESPA_701	36	0	0
2019	2LGEO_901	62	0	0
2019	2LGEST_701	110	0	0
2019	2LHIS1_701	97	0	0
2019	2LHIS1_702	52	0	0
2019	2LHIS2_701	49	0	0
2019	2LHIS3_701	31	0	0
2019	2LHUMA_701	26	0	0
2019	2LINFO_701	243	0	0
2019	2LITAL_701	11	0	0
2019	2LLAN1_701	36	0	0
2019	2LLAN1_702	23	0	0
2019	2LLEAA_701	29	0	0
2019	2LLEAE_701	170	0	0
2019	2LLEAI_701	24	0	0
2019	2LLEAR_701	29	0	0
2019	2LLET1_701	65	0	0
2019	2LLET1_702	24	0	0
2019	2LMATH_701	113	0	0
2019	2LMECA_701	28	0	0
2019	2LMIAS_701	45	0	0
2019	2LNORD_701	38	0	0
2019	2LPHI1_701	20	0	0
2019	2LPHI2_701	7	0	0
2019	2LPHYS_701	40	0	0
2019	2LPHY_701	22	0	0
2019	2LPSYC_701	366	0	0
2019	2LRUSS_701	7	0	0
2019	2LSANT_701	106	0	0
2019	2LSOC1_701	37	0	0
2019	2LSOC1_702	28	0	0
2019	2LSOC2_701	13	0	0
2019	2LSOC3_701	23	0	0
2019	2LSTA1_701	65	0	0
2019	2LSTA2_701	120	0	0
2019	2LSTA3_701	42	0	0
2019	2LSTA4_701	73	0	0
2019	2LSTA5_701	66	0	0
2019	2LSVIE_701	169	0	0
2019	2LSVT_701	40	0	0
2019	2LTERR_701	19	0	0
2019	2MADMI_711	7	0	0
2019	2MADMI_712	23	0	0
2019	2MADMI_713	0	0	12
2019	2MADMI_714	0	0	23
2019	2MADMI_715	0	0	45
2019	2MAGRO_711	16	0	0
2019	2MAPAS_711	16	0	0
2019	2MARD1_711	15	0	0
2019	2MARD2_711	5	0	0
2019	2MARD3_711	13	0	0
2019	2MARD3_712	8	0	0
2019	2MARD4_711	11	0	1
2019	2MBIOA_711	10	0	0
2019	2MBIO1_711	3	0	0
2019	2MBIO2_711	20	0	0
2019	2MBIPH_711	13	0	0
2019	2MCGAO_712	0	15	17
2019	2MCHI1_711	11	0	0
2019	2MCHI2_711	13	0	0
2019	2MCHI3_711	10	0	0
2019	2MCHI4_711	4	0	0
2019	2MCOMP_711	21	0	0
2019	2MCOMP_712	0	30	0
2019	2MCOMP_713	0	0	22
2019	2MDAFF_711	16	0	0
2019	2MDASS_711	0	0	22
2019	2MDCIV_711	14	0	0
2019	2MDENT_711	18	0	0
2019	2MDLIB_711	20	0	0
2019	2MDNOT_711	17	0	0
2019	2MDNUM_711	7	4	1
2019	2MDPUB_711	18	0	0
2019	2MEDUC_711	20	0	2
2019	2MEMP1_711	4	0	0
2019	2MEMP2_711	4	0	0
2019	2MENMP_711	17	0	0
2019	2MERGO_711	11	0	2
2019	2MGEO1_711	13	0	0
2019	2MGEO2_711	12	0	2
2019	2MGPRO_711	0	25	1
2019	2MGPRO_712	0	0	14
2019	2MGRH_711	1	7	17
2019	2MGRH_712	0	0	14
2019	2MGRH_713	0	0	27
2019	2MHIS1_711	47	0	0
2019	2MHIS1_712	10	0	0
2019	2MHIS2_711	15	0	0
2019	2MHIS3_711	5	0	0
2019	2MINF1_711	18	0	0
2019	2MINF2_711	24	0	0
2019	2MINF3_711	16	0	1
2019	2MINF4_711	21	0	0
2019	2MINNO_711	10	0	0
2019	2MJUST_711	14	0	0
2019	2MLAN1_711	9	0	0
2019	2MLAN2_711	4	0	0
2019	2MLEA1_711	16	0	0
2019	2MLEA2_711	20	0	1
2019	2MLEA3_711	21	0	0
2019	2MLIV1_711	8	0	0
2019	2MLIV2_711	6	0	1
2019	2MLLC1_711	13	0	0
2019	2MLLC2_711	10	0	0
2019	2MLLC3_711	22	0	0
2019	2MLLC3_712	11	0	0
2019	2MMANA_711	17	0	0
2019	2MMARK_711	19	0	0
2019	2MMARK_712	0	14	13
2019	2MMAS_711	17	0	1
2019	2MMATH_711	10	0	0
2019	2MMCI1_711	16	0	0
2019	2MMCI2_711	22	0	0
2019	2MMECA_711	15	0	0
2019	2MMIC1_711	13	0	0
2019	2MMIC2_711	12	0	0
2019	2MMINN_711	13	0	0
2019	2MMON1_711	0	11	12
2019	2MMON1_712	0	0	18
2019	2MMON2_711	0	3	14
2019	2MMON2_712	0	0	11
2019	2MMON2_713	0	0	10
2019	2MMON2_714	0	0	10
2019	2MMON2_715	0	0	13
2019	2MMON2_716	0	0	9
2019	2MMON3_711	14	0	1
2019	2MMSS2_711	19	0	3
2019	2MMSS3_711	0	0	30
2019	2MMSS4_711	16	0	1
2019	2MMSS5_711	0	0	30
2019	2MMSS5_712	0	0	40
2019	2MMSS6_711	13	0	1
2019	2MMSS7_711	5	0	26
2019	2MMSS8_711	9	0	92
2019	2MNEU1_711	20	0	0
2019	2MNEU2_711	23	0	0
2019	2MNUTR_711	12	0	0
2019	2MPATR_711	1	9	14
2019	2MPATR_714	0	0	11
2019	2MPATR_715	0	0	13
2019	2MPHI1_711	6	0	0
2019	2MPHY1_711	6	0	0
2019	2MPHY1_712	19	0	0
2019	2MPHY2_711	5	0	0
2019	2MPHY3_711	5	0	0
2019	2MPSY1_711	16	0	2
2019	2MPSY2_711	13	0	1
2019	2MPSY3_711	17	0	1
2019	2MPSY4_711	17	0	0
2019	2MPSY5_711	11	0	0
2019	2MSAN1_711	15	0	0
2019	2MSAN2_711	12	0	0
2019	2MSCM1_711	13	0	0
2019	2MSCM2_711	9	0	0
2019	2MSMER_711	23	0	0
2019	2MSOC1_711	10	0	0
2019	2MSOC1_712	20	0	0
2019	2MSOC2_711	12	0	1
2019	2MSOC2_712	4	0	0
2019	2MSTAR_711	18	0	0
2019	2MSTPE_711	14	0	0
2019	2MSTRA_711	0	0	8
2019	2MURBA_711	10	0	1
2019	3LAEC1_711	38	0	0
2019	3LAEC2_711	26	0	0
2019	3LALL_711	4	0	0
2019	3LANGL_711	164	0	0
2019	3LANGL_712	45	0	0
2019	3LAPUB_711	13	0	0
2019	3LART1_711	56	0	0
2019	3LART2_711	28	0	0
2019	3LCHIM_711	48	0	0
2019	3LDRO1_711	233	0	0
2019	3LDRO2_711	70	0	0
2019	3LECO_711	53	0	0
2019	3LEDU1_711	109	0	0
2019	3LEDU2_711	44	0	0
2019	3LEEEA_711	23	0	0
2019	3LESPA_711	30	0	0
2019	3LGEO_911	54	0	0
2019	3LGES1_711	0	0	16
2019	3LGES1_712	0	0	30
2019	3LGES2_711	2	27	0
2019	3LGES3_711	16	0	3
2019	3LGES4_711	25	0	0
2019	3LGES4_712	1	19	0
2019	3LGES4_713	0	0	27
2019	3LGES5_711	45	0	0
2019	3LGES6_911	140	0	0
2019	3LHIS1_711	105	0	0
2019	3LHIS1_712	39	0	0
2019	3LHIS2_711	45	0	0
2019	3LHIS3_711	18	0	0
2019	3LHUMA_711	18	0	0
2019	3LINFO_711	154	0	0
2019	3LITAL_711	11	0	0
2019	3LLAN4_911	41	0	0
2019	3LLAN4_912	13	0	0
2019	3LLEAA_711	17	0	0
2019	3LLEAE_711	102	0	0
2019	3LLEAI_711	10	0	0
2019	3LLEAR_711	18	0	0
2019	3LLET1_711	22	0	0
2019	3LLET1_712	17	0	0
2019	3LLET2_711	25	0	0
2019	3LLET4_711	4	0	0
2019	3LMATH_711	69	3	0
2019	3LMECA_711	30	0	0
2019	3LMIAS_711	36	0	0
2019	3LNORD_711	26	0	0
2019	3LPHI1_711	20	0	0
2019	3LPHI2_711	3	0	0
2019	3LPHYS_711	37	0	0
2019	3LPSYC_711	258	0	0
2019	3LRUSS_711	5	0	0
2019	3LSAN1_711	37	0	0
2019	3LSAN2_711	58	0	0
2019	3LSOC1_711	36	0	0
2019	3LSOC1_712	37	0	0
2019	3LSOC2_711	11	0	0
2019	3LSOC3_711	24	0	0
2019	3LSTA1_711	43	0	0
2019	3LSTA2_711	92	0	1
2019	3LSTA3_711	59	0	1
2019	3LSTA4_711	35	0	0
2019	3LSTA5_711	64	0	0
2019	3LSVI1_711	37	0	0
2019	3LSVI2_711	72	0	0
2019	3LSVI3_711	35	0	0
2019	3LSVT_711	22	0	0
2019	3LTERR_711	19	0	0";


$data = explode("\n", $data);

$bdd = adminBdd();

$count = 0;
$ok    = 0;

foreach ($data as $d) {
    $count++;
    $d       = explode("\t", $d);
    $annee   = (int)$d[0];
    $code    = $d[1];
    $fi      = (float)$d[2];
    $fa      = (float)$d[3];
    $fc      = (float)$d[4];
    $effFi   = null;
    $effFa   = null;
    $effFc   = null;
    $sneFiId = null;
    $sneFaId = null;
    $sneFcId = null;

    $sql = "SELECT 
      e.id etape_id,
      s.id scenario_id,
      n.id noeud_id,
      sn.id scenario_noeud_id,
      sne.id scenario_noeud_effectif_id,
      th.code type_heures,
      sne.effectif effectif
    FROM
      etape e 
      JOIN parametre p on p.nom = 'scenario_charges_services'
      JOIN scenario s on s.id = p.valeur
      LEFT JOIN noeud n ON n.etape_id = e.id
      LEFT JOIN scenario_noeud sn ON sn.scenario_id = s.id AND sn.noeud_id = n.id
      LEFT JOIN scenario_noeud_effectif sne ON sne.scenario_noeud_id = sn.id
      LEFT JOIN type_heures th ON th.id = sne.type_heures_id
    where 
      e.source_code = '$code' AND e.annee_id = $annee";

    $res = $bdd->select($sql);
    foreach ($res as $r) {
        $etapeId         = $r['ETAPE_ID'];
        $scenarioId      = $r['SCENARIO_ID'];
        $noeudId         = $r['NOEUD_ID'];
        $scenarioNoeudId = $r['SCENARIO_NOEUD_ID'];
        switch ($r['TYPE_HEURES']) {
            case 'fi':
                $sneFiId = $r['SCENARIO_NOEUD_EFFECTIF_ID'];
                $effFi   = $r['EFFECTIF'];
            break;
            case 'fa':
                $sneFaId = $r['SCENARIO_NOEUD_EFFECTIF_ID'];
                $effFa   = $r['EFFECTIF'];
            break;
            case 'fc':
                $sneFcId = $r['SCENARIO_NOEUD_EFFECTIF_ID'];
                $effFc   = $r['EFFECTIF'];
            break;
        }
    }

    if ($etapeId == null) {
        echo "$code $annee ETAPE manquante<br/>";
    }
    if ($scenarioId == null) {
        echo 'Scenario manquant<br/>';
    }
    if ($noeudId == null) {
        echo '$code $annee Noeud manquant<br/>';
    }

    if ($scenarioNoeudId == null) {
        $scenarioNoeudId = creerScenarioNoeud($scenarioId, $noeudId);
    }

    if ($effFi == null && $fi > 0) {
        creerScenarioNoeudEffectif($scenarioNoeudId, 'fi', $fi, $etapeId);
        $effFi = $fi;
    }

    if ($effFa == null && $fa > 0) {
        creerScenarioNoeudEffectif($scenarioNoeudId, 'fa', $fa, $etapeId);
        $effFa = $fa;
    }

    if ($effFc == null && $fc > 0) {
        creerScenarioNoeudEffectif($scenarioNoeudId, 'fc', $fc, $etapeId);
        $effFc = $fc;
    }

    if ($effFi <> $fi && $sneFiId) {
        $bdd->getTable('SCENARIO_NOEUD_EFFECTIF')->update(['EFFECTIF' => $fi], ['ID' => $sneFiId]);
    }

    if ($effFa <> $fa && $sneFaId) {
        $bdd->getTable('SCENARIO_NOEUD_EFFECTIF')->update(['EFFECTIF' => $fa], ['ID' => $sneFaId]);
    }

    if ($effFc <> $fc && $sneFcId) {
        $bdd->getTable('SCENARIO_NOEUD_EFFECTIF')->update(['EFFECTIF' => $fc], ['ID' => $sneFcId]);
    }

    if (!($effFi == $fi && $effFa == $fa && $effFc == $fc)) {
        echo "$code $annee Probl√®me d'effectifs<br/>";
    } else {
        $ok++;
    }

    //var_dump(compact('annee', 'code', 'fi', 'fa', 'fc', 'effFi', 'effFa', 'effFc', 'etapeId', 'scenarioId', 'noeudId', 'scenarioNoeudId'));
    //break;
}

var_dump(compact('count', 'ok'));

function creerScenarioNoeud(int $scenarioId, int $noeudId): int
{
    $bdd  = adminBdd();
    $data = [
        'SCENARIO_ID' => $scenarioId,
        'NOEUD_ID'    => $noeudId,
        'ASSIDUITE'   => 1,
        'SOURCE_ID'   => 2, // OSE
        'SOURCE_CODE' => uniqid('ieffs-2021-'),
    ];
    $bdd->getTable('SCENARIO_NOEUD')->insert($data, ['histo-user-id' => 4]); // 4 = Laurent

    return $data['ID'];
}


function creerScenarioNoeudEffectif(int $scenarioNoeudId, string $typeHeures, float $effectif, int $etapeId): int
{
    $bdd  = adminBdd();
    $data = [
        'SCENARIO_NOEUD_ID' => $scenarioNoeudId,
        'TYPE_HEURES_ID'    => $bdd->select('select id from type_heures where code=:code', ['code' => $typeHeures])[0]['ID'],
        'EFFECTIF'          => $effectif,
        'ETAPE_ID'          => $etapeId,
    ];

    $bdd->getTable('SCENARIO_NOEUD_EFFECTIF')->insert($data);

    return $data['ID'];
}