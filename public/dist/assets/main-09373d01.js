import{c as r,o as n,n as C,a as e,t as c,r as M,w as j,v as V,b as h,F as b,d as T,e as m,f,g as p,h as S,i as H,j as k,p as I,k as P,l as E}from"./vendor-f378f3a9.js";const y=(i,t)=>{const s=i.__vccOpts||i;for(const[_,o]of t)s[_]=o;return s},O={name:"UIcon",props:{valeur:{required:!0,type:Float64Array}},computed:{affichage:function(){return Util.formattedHeures(this.valeur,!0)}}},q=["innerHTML"];function N(i,t,s,_,o,a){return n(),r("span",{class:"heures",innerHTML:a.affichage},null,8,q)}const B=y(O,[["render",N]]),F=Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"})),z={name:"UIcon",props:{name:{required:!0,type:String},variant:{required:!1,type:String}}};function $(i,t,s,_,o,a){return n(),r("i",{class:C(`fas fa-${s.name} text-${s.variant}`)},null,2)}const K=y(z,[["render",$]]),G=Object.freeze(Object.defineProperty({__proto__:null,default:K},Symbol.toStringTag,{value:"Module"})),J={name:"UModal",props:{id:{required:!0,type:String},title:{required:!0,type:String}}},Q=["id"],W={class:"modal-dialog"},X={class:"modal-content"},Y={class:"modal-header"},Z={class:"modal-title"},ee=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),te={class:"modal-body"},ie={class:"modal-footer"},se=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Fermer",-1);function ae(i,t,s,_,o,a){return n(),r("div",{class:"modal fade",id:s.id,tabindex:"-1","aria-hidden":"true"},[e("div",W,[e("div",X,[e("div",Y,[e("h5",Z,c(s.title),1),ee]),e("div",te,[M(i.$slots,"body")]),e("div",ie,[M(i.$slots,"footer"),se])])])],8,Q)}const ne=y(J,[["render",ae]]),re=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"})),le={name:"Utilisateur",props:{nom:String,mail:String}},oe=["href"];function ue(i,t,s,_,o,a){return n(),r("a",{href:`mailto:${s.mail}`},c(s.nom),9,oe)}const de=y(le,[["render",ue]]),ce=Object.freeze(Object.defineProperty({__proto__:null,default:de},Symbol.toStringTag,{value:"Module"})),me={name:"Recherche",data(){return{searchTerm:"",noResult:0,intervenants:[],checkedTypes:["vacataire","permanent","etudiant"]}},methods:{rechercher:function(i){this.searchTerm=i.target.value,this.searchTerm==""&&(this.noResult=0),this.searchTerm!=""&&this.reload()},urlFiche(i){return"/intervenant/code:"+i+"/voir"},reload(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(()=>{axios.post(Util.url("intervenant/recherche-json"),{term:this.searchTerm}).then(i=>{let t=i.data,s=[];for(const _ in t){if(t[_].typeIntervenantCode=="E"&&this.checkedTypes.includes("vacataire")){s.push(t[_]);continue}if(t[_].typeIntervenantCode=="P"&&this.checkedTypes.includes("permanent")){s.push(t[_]);continue}if(t[_].typeIntervenantCode=="S"&&this.checkedTypes.includes("etudiant")){s.push(t[_]);continue}}this.intervenants=s,this.intervenants.length==0?this.noResult=1:this.noResult=0}).catch(i=>{console.log(i.message)})},800)}}},he=e("h3",null,"Saisissez le nom suivi éventuellement du prénom (2 lettres minimum)",-1),_e={class:"intervenant-recherche"},ve={class:"critere"},fe=e("br",null,null,-1),pe=e("span",{class:"fw-bold"},"Types d'intervenant : ",-1),be=e("br",null,null,-1),xe={key:0,class:"table table-bordered table-hover"},ye=e("thead",null,[e("tr",null,[e("th",{style:{width:"90px"}}),e("th",null,"Civilité"),e("th",null,"Nom"),e("th",null,"Prenom"),e("th",null,"Structure"),e("th",null,"Statut"),e("th",null,"Date de naissance"),e("th",null,"N° Personnel")])],-1),ge=["title"],Te={style:{}},ke=["href"],Ue=e("i",{class:"fas fa-eye"},null,-1),Ce={key:1,class:"table table-bordered table-hover"},Se=e("thead",null,[e("tr",null,[e("th",{style:{width:"90px"}}),e("th",null,"Civilité"),e("th",null,"Nom"),e("th",null,"Prenom"),e("th",null,"Structure"),e("th",null,"Statut"),e("th",null,"Date de naissance"),e("th",null,"N° Personnel")])],-1),je=e("tbody",null,[e("tr",null,[e("td",{style:{"text-align":"center"},colspan:"8"},"Aucun intervenant trouvé")])],-1),Ve=[Se,je];function Re(i,t,s,_,o,a){return n(),r(b,null,[he,e("div",_e,[e("div",ve,[e("div",null,[e("input",{id:"term",onKeyup:t[0]||(t[0]=(...l)=>a.rechercher&&a.rechercher(...l)),class:"form-control input",type:"text",placeholder:"votre recherche..."},null,32),fe]),e("div",null,[pe,j(e("input",{onChange:t[1]||(t[1]=l=>a.reload()),type:"checkbox",name:"type[]",value:"permanent",checked:"checked","onUpdate:modelValue":t[2]||(t[2]=l=>o.checkedTypes=l)},null,544),[[V,o.checkedTypes]]),h(" Permanent "),j(e("input",{onChange:t[3]||(t[3]=l=>a.reload()),type:"checkbox",name:"type[]",value:"vacataire",checked:"checked","onUpdate:modelValue":t[4]||(t[4]=l=>o.checkedTypes=l)},null,544),[[V,o.checkedTypes]]),h(" Vacataire "),j(e("input",{onChange:t[5]||(t[5]=l=>a.reload()),type:"checkbox",name:"type[]",value:"etudiant",checked:"checked","onUpdate:modelValue":t[6]||(t[6]=l=>o.checkedTypes=l)},null,544),[[V,o.checkedTypes]]),h(" Etudiant ")]),be])]),o.intervenants.length>0?(n(),r("table",xe,[ye,e("tbody",null,[(n(!0),r(b,null,T(o.intervenants,(l,v)=>(n(),r("tr",{class:C({"bg-danger":l.destruction!==null}),title:l.destruction!==null?"Fiche historisé":""},[e("td",Te,[e("a",{href:a.urlFiche(l.code)},[Ue,h(" Fiche")],8,ke)]),e("td",null,c(l.civilite),1),e("td",null,c(l.nom),1),e("td",null,c(l.prenom),1),e("td",null,c(l.structure),1),e("td",null,c(l.statut),1),e("td",null,c(l["date-naissance"]),1),e("td",null,c(l["numero-personnel"]),1)],10,ge))),256))])])):m("",!0),o.intervenants.length==0&&o.noResult==1?(n(),r("table",Ce,Ve)):m("",!0)],64)}const Me=y(me,[["render",Re]]),He=Object.freeze(Object.defineProperty({__proto__:null,default:Me},Symbol.toStringTag,{value:"Module"}));const De={name:"Mission",props:{mission:{required:!0}},data(){return{validationText:this.calcValidation(this.mission.validation),saisieUrl:Util.url("mission/saisie/:mission",{mission:this.mission.id}),validerUrl:Util.url("mission/valider/:mission",{mission:this.mission.id}),devaliderUrl:Util.url("mission/devalider/:mission",{mission:this.mission.id}),supprimerUrl:Util.url("mission/supprimer/:mission",{mission:this.mission.id})}},watch:{"mission.validation"(i){this.validationText=this.calcValidation(i)}},computed:{heuresLib:function(){return this.mission.heures===null||this.mission.heures===0?"Aucune heure saisie":this.mission.heures==this.mission.heuresValidees?Util.formattedHeures(this.mission.heures)+" heures (validées)":this.mission.heuresValidees==0?Util.formattedHeures(this.mission.heures)+" heures (non validées)":Util.formattedHeures(this.mission.heures)+" heures ("+Util.formattedHeures(this.mission.heuresValidees)+" validées)"}},methods:{calcValidation(i){return i===null?"A valider":i.id===null?"Autovalidée":"Validation du "+i.histoCreation+" par "},saisie(i){modAjax(i.target,t=>{this.refresh()})},supprimer(i){popConfirm(i.target,t=>{this.$emit("supprimer",this.mission)})},valider(i){popConfirm(i.target,t=>{this.$emit("refresh",t.data)})},devalider(i){popConfirm(i.target,t=>{this.$emit("refresh",t.data)})},volumeHoraireSupprimer(i){i.target.href=Util.url("mission/volume-horaire/supprimer/:missionVolumeHoraire",{missionVolumeHoraire:i.target.dataset.id}),popConfirm(i.target,t=>{this.$emit("refresh",t.data)})},volumeHoraireValider(i){i.target.href=Util.url("mission/volume-horaire/valider/:missionVolumeHoraire",{missionVolumeHoraire:i.target.dataset.id}),popConfirm(i.target,t=>{this.$emit("refresh",t.data)})},volumeHoraireDevalider(i){i.target.href=Util.url("mission/volume-horaire/devalider/:missionVolumeHoraire",{missionVolumeHoraire:i.target.dataset.id}),popConfirm(i.target,t=>{this.$emit("refresh",t.data)})},refresh(){axios.get(Util.url("mission/get/:mission",{mission:this.mission.id})).then(i=>{this.$emit("refresh",i.data)})}}},g=i=>(I("data-v-e757a735"),i=i(),P(),i),Ae=["id"],Le={class:"card-header card-header-h3"},we={class:"float-end"},Ie={class:"card-body"},Pe={class:"row"},Ee={class:"col-md-8"},Oe={class:"row"},qe={class:"col-md-12"},Ne=g(()=>e("label",{class:"form-label"},"Composante en charge du suivi",-1)),Be={class:"form-control"},Fe={class:"row"},ze={class:"col-md-5"},$e=g(()=>e("label",{class:"form-label"},"Taux de rémunération",-1)),Ke={class:"form-control"},Ge={class:"col-md-7"},Je=g(()=>e("label",{class:"form-label"},"Nombre d'heures prévisionnelles",-1)),Qe={class:"input-group mb-3"},We=["innerHTML"],Xe=["data-bs-target"],Ye={class:"row"},Ze={class:"col-md-12"},et=g(()=>e("label",{class:"form-label"},"Descriptif de la mission",-1)),tt={class:"form-control"},it=g(()=>e("div",{class:"row"},[e("div",{class:"col-md-12"}," ")],-1)),st={class:"row"},at={class:"col-md-12"},nt=["href"],rt=["href"],lt=["href"],ot=["href"],ut={class:"col-md-4"},dt=g(()=>e("div",null,[e("label",{class:"form-label"},"Suivi")],-1)),ct=g(()=>e("div",null," Aucune heure réalisée ",-1)),mt={class:"table table-bordered table-condensed"},ht=g(()=>e("thead",null,[e("tr",null,[e("th",null,"Heures"),e("th",null,"Statut"),e("th",null,"Actions")])],-1)),_t={style:{"text-align":"right"}},vt=g(()=>e("br",null,null,-1)),ft={key:0},pt=["data-id"],bt=["data-id"],xt=["data-id"];function yt(i,t,s,_,o,a){const l=k("u-icon"),v=k("utilisateur"),u=k("u-heures"),x=k("u-modal");return n(),r(b,null,[e("div",{id:s.mission.id,class:C(["card",{"bg-success":s.mission.valide,"bg-default":!s.mission.valide}])},[e("form",{onSubmit:t[4]||(t[4]=f((...d)=>i.submitForm&&i.submitForm(...d),["prevent"]))},[e("div",Le,[e("h5",null,[h(c(s.mission.typeMission.libelle)+" ",1),e("span",we,"Du "+c(s.mission.dateDebut)+" au "+c(s.mission.dateFin),1)])]),e("div",Ie,[e("div",Pe,[e("div",Ee,[e("div",Oe,[e("div",qe,[Ne,e("div",Be,c(s.mission.structure.libelle),1)])]),e("div",Fe,[e("div",ze,[$e,e("div",Ke,c(s.mission.tauxRemu.libelle),1)]),e("div",Ge,[Je,e("div",Qe,[e("div",{class:"form-control",innerHTML:a.heuresLib},null,8,We),e("button",{class:"input-group-btn btn btn-secondary","data-bs-toggle":"modal","data-bs-target":`#details-${s.mission.id}`},[p(l,{name:""}),h(" Détails ")],8,Xe)])])]),e("div",Ye,[e("div",Ze,[et,e("div",tt,c(s.mission.description),1)])]),it,e("div",st,[e("div",at,[s.mission.canSaisie?(n(),r("a",{key:0,href:o.saisieUrl,class:"btn btn-primary",onClick:t[0]||(t[0]=f((...d)=>a.saisie&&a.saisie(...d),["prevent"]))},"Modifier",8,nt)):m("",!0),s.mission.canValider?(n(),r("a",{key:1,href:o.validerUrl,class:"btn btn-secondary","data-title":"Validation de la mission","data-content":"Êtes-vous sur de vouloir valider la mission ?",onClick:t[1]||(t[1]=f((...d)=>a.valider&&a.valider(...d),["prevent"]))},"Valider",8,rt)):m("",!0),s.mission.canDevalider?(n(),r("a",{key:2,href:o.devaliderUrl,class:"btn btn-danger","data-title":"Dévalidation de la mission","data-content":"Êtes-vous sur de vouloir dévalider la mission ?",onClick:t[2]||(t[2]=f((...d)=>a.devalider&&a.devalider(...d),["prevent"]))},"Dévalider",8,lt)):m("",!0),s.mission.canSupprimer?(n(),r("a",{key:3,href:o.supprimerUrl,class:"btn btn-danger","data-title":"Suppression de la mission","data-content":"Êtes-vous sur de vouloir supprimer la mission ?",onClick:t[3]||(t[3]=f((...d)=>a.supprimer&&a.supprimer(...d),["prevent"]))},"Supprimer",8,ot)):m("",!0)])])]),e("div",ut,[dt,e("div",null,[p(l,{name:"thumbs-up",variant:"success"}),h(" Créé le "+c(s.mission.histoCreation)+" par ",1),p(v,{nom:s.mission.histoCreateur.displayName,mail:s.mission.histoCreateur.email},null,8,["nom","mail"])]),e("div",null,[p(l,{name:s.mission.valide?"thumbs-up":"thumbs-down",variant:s.mission.valide?"success":"info"},null,8,["name","variant"]),h(" "+c(o.validationText)+" ",1),s.mission.validation&&s.mission.validation.histoCreateur?(n(),S(v,{key:0,nom:s.mission.validation.histoCreateur.displayName,mail:s.mission.validation.histoCreateur.email},null,8,["nom","mail"])):m("",!0)]),e("div",null,[p(l,{name:s.mission.contrat?"thumbs-up":"thumbs-down",variant:s.mission.contrat?"success":"info"},null,8,["name","variant"]),h(" "+c(s.mission.contrat?"Contrat établi":"Pas de contrat"),1)]),ct])])])],32)],10,Ae),p(x,{id:`details-${s.mission.id}`,title:"Détail des heures prévisionnelles"},{body:H(()=>[e("table",mt,[ht,e("tbody",null,[(n(!0),r(b,null,T(s.mission.volumesHoraires,d=>(n(),r("tr",{key:d.id},[e("td",_t,[p(u,{valeur:d.heures},null,8,["valeur"])]),e("td",null,[p(l,{name:"thumbs-up",variant:"success"}),h(" Saisi par "),p(v,{nom:d.histoCreateur.displayName,mail:d.histoCreateur.email},null,8,["nom","mail"]),h(" le "+c(d.histoCreation)+" ",1),vt,p(l,{name:d.valide?"thumbs-up":"thumbs-down",variant:d.valide?"success":"info"},null,8,["name","variant"]),h(" "+c(d.validation&&d.validation.id==null?"Autovalidé":d.validation?"":"à valider")+" ",1),d.validation&&d.validation.histoCreateur?(n(),r("span",ft,[h(" Validé par "),p(v,{nom:d.validation.histoCreateur.displayName,mail:d.validation.histoCreateur.email},null,8,["nom","mail"]),h(" le "+c(d.validation.histoCreation),1)])):m("",!0)]),e("td",null,[d.canValider?(n(),r("a",{key:0,class:"btn btn-secondary","data-id":d.id,"data-title":"Validation du volume horaire","data-content":"Êtes-vous sur de vouloir valider ce volume horaire ?",onClick:t[5]||(t[5]=f((...U)=>a.volumeHoraireValider&&a.volumeHoraireValider(...U),["prevent"]))},"Valider",8,pt)):m("",!0),d.canDevalider?(n(),r("a",{key:1,class:"btn btn-danger","data-id":d.id,"data-title":"Dévalidation du volume horaire","data-content":"Êtes-vous sur de vouloir dévalider ce volume horaire ?",onClick:t[6]||(t[6]=f((...U)=>a.volumeHoraireDevalider&&a.volumeHoraireDevalider(...U),["prevent"]))},"Dévalider",8,bt)):m("",!0),d.canSupprimer?(n(),r("a",{key:2,class:"btn btn-danger","data-id":d.id,"data-title":"Suppression du volume horaire","data-content":"Êtes-vous sur de vouloir supprimer le volume horaire ?",onClick:t[7]||(t[7]=f((...U)=>a.volumeHoraireSupprimer&&a.volumeHoraireSupprimer(...U),["prevent"]))},"Supprimer",8,xt)):m("",!0)])]))),128))])])]),footer:H(()=>[]),_:1},8,["id"])],64)}const L=y(De,[["render",yt],["__scopeId","data-v-e757a735"]]),gt=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"})),Tt={components:{mission:L},props:{intervenant:{type:Number,required:!0},canAddMission:{type:Boolean,required:!0}},data(){return{missions:[],ajoutUrl:Util.url("mission/ajout/:intervenant",{intervenant:this.intervenant})}},mounted(){this.reload()},methods:{ajout(i){modAjax(i.target,t=>{this.reload()})},supprimer(i){this.reload()},refresh(i){console.log(i);let t=Util.json.indexById(this.missions,i.id);this.missions[t]=i},reload(){axios.get(Util.url("mission/liste/:intervenant",{intervenant:this.intervenant})).then(i=>{this.missions=i.data})}}},kt=["href"];function Ut(i,t,s,_,o,a){const l=k("mission");return n(),r(b,null,[(n(!0),r(b,null,T(o.missions,v=>(n(),S(l,{onSupprimer:a.supprimer,onRefresh:a.refresh,key:v.id,mission:v},null,8,["onSupprimer","onRefresh","mission"]))),128)),s.canAddMission?(n(),r("a",{key:0,class:"btn btn-primary",href:o.ajoutUrl,onClick:t[0]||(t[0]=f((...v)=>a.ajout&&a.ajout(...v),["prevent"]))},"Ajout d'une nouvelle mission",8,kt)):m("",!0)],64)}const Ct=y(Tt,[["render",Ut]]),St=Object.freeze(Object.defineProperty({__proto__:null,default:Ct},Symbol.toStringTag,{value:"Module"})),jt={name:"Taux",props:{taux:{required:!0},listeTaux:{required:!0},canEditTaux:{type:Boolean,required:!0},canDeleteTaux:{type:Boolean,required:!0}},data(){return{saisieUrl:Util.url("taux/saisir/:tauxRemu",{tauxRemu:this.taux.id}),supprimerUrl:Util.url("taux/supprimer/:tauxRemu",{tauxRemu:this.taux.id}),ajoutValeurUrl:Util.url("taux/saisir-valeur/:tauxRemu",{tauxRemu:this.taux.id})}},methods:{saisie(i){modAjax(i.target,t=>{this.$emit("refreshListe")})},ajoutValeur(i){modAjax(i.target,t=>{this.$emit("refreshListe")})},saisieValeur(i){i.target.href=Util.url("taux/saisir-valeur/:tauxRemu/:tauxRemuValeur",{tauxRemu:this.taux.id,tauxRemuValeur:i.target.dataset.id}),modAjax(i.target,t=>{this.$emit("refreshListe")})},refreshListe(i){this.$emit("refreshListe")},supprimer(i){popConfirm(i.target,t=>{this.$emit("refreshListe")})},supprimerValeur(i){i.target.href=Util.url("taux/supprimer-valeur/:tauxRemuValeur",{tauxRemuValeur:i.target.dataset.id}),console.log(i.target.href),popConfirm(i.target,t=>{this.$emit("refreshListe")})},refresh(i){axios.get(Util.url("taux/get/:tauxRemu",{tauxRemu:i.id})).then(t=>{this.$emit("refresh",t.data)})}}},Vt={class:"card-header"},Rt={class:"float-end"},Mt=["href"],Ht=["href"],Dt={class:"card-body"},At={key:0},Lt=e("br",null,null,-1),wt={class:""},It={class:"row align-items-start"},Pt={class:"col-md-4"},Et={class:"col"},Ot=["data-id"],qt=["data-id"],Nt=["data-id"],Bt=["data-id"],Ft=["href"],zt={key:1,class:"row"},$t={class:"col-md-7"},Kt=e("br",null,null,-1),Gt={class:"row align-items-start"},Jt={class:"col-md-8"},Qt={class:"col-md-auto"},Wt=["data-id"],Xt=["data-id"],Yt=["data-id"],Zt=["data-id"],ei=["href"],ti={class:"col"},ii=e("br",null,null,-1),si={key:0},ai={key:0};function ni(i,t,s,_,o,a){const l=k("u-icon"),v=k("taux",!0);return n(),r(b,null,[e("div",{class:C(["card",{"ms-5":s.taux.tauxRemu}])},[e("div",Vt,[h(c(s.taux.libelle)+" ("+c(s.taux.code)+") ",1),e("div",Rt,[s.canEditTaux?(n(),r("a",{key:0,href:o.saisieUrl,class:"btn btn-primary",onClick:t[0]||(t[0]=f((...u)=>a.saisie&&a.saisie(...u),["prevent"]))},[p(l,{name:"pen-to-square"}),h(" Modifier")],8,Mt)):m("",!0),h("   "),s.canDeleteTaux?(n(),r("a",{key:1,href:o.supprimerUrl,class:"btn btn-danger",onClick:t[1]||(t[1]=f((...u)=>a.supprimer&&a.supprimer(...u),["prevent"]))},[p(l,{name:"trash-can"}),h(" Supprimer")],8,Ht)):m("",!0)])]),e("div",Dt,[s.taux.tauxRemu?m("",!0):(n(),r("div",At,[h(" Modification :"),Lt,e("ul",null,[(n(!0),r(b,null,T(s.taux.tauxRemuValeurs,u=>(n(),r("div",{key:u.id},[e("li",wt,[e("div",It,[e("div",Pt,c(u.valeur)+"€/h à partir du "+c(u.dateEffet),1),e("div",Et,[s.canEditTaux?(n(),r("a",{key:0,class:"btn btn-primary btn-sm",onClick:t[2]||(t[2]=f((...x)=>a.saisieValeur&&a.saisieValeur(...x),["prevent"])),"data-id":u.id},[e("i",{class:"fas fa-pen-to-square","data-id":u.id},null,8,qt)],8,Ot)):m("",!0),h("   "),s.canDeleteTaux?(n(),r("a",{key:1,class:"btn btn-danger btn-sm",onClick:t[3]||(t[3]=f((...x)=>a.supprimerValeur&&a.supprimerValeur(...x),["prevent"])),"data-id":u.id},[e("i",{class:"fas fa-trash-can","data-id":u.id},null,8,Bt)],8,Nt)):m("",!0)])])])]))),128))]),s.canEditTaux?(n(),r("a",{key:0,href:o.ajoutValeurUrl,class:"btn btn-primary btn-sm",onClick:t[4]||(t[4]=f((...u)=>a.ajoutValeur&&a.ajoutValeur(...u),["prevent"]))},[p(l,{name:"plus"})],8,Ft)):m("",!0)])),s.taux.tauxRemu?(n(),r("div",zt,[e("div",$t,[h(" Modification :"),Kt,e("ul",null,[(n(!0),r(b,null,T(s.taux.tauxRemuValeurs,u=>(n(),r("div",null,[e("li",null,[e("div",Gt,[e("div",Jt," Coéfficient de "+c(u.valeur)+" à partir du "+c(u.dateEffet),1),e("div",Qt,[s.canEditTaux?(n(),r("a",{key:0,class:"btn btn-primary btn-sm",onClick:t[5]||(t[5]=f((...x)=>a.saisieValeur&&a.saisieValeur(...x),["prevent"])),"data-id":u.id},[e("i",{class:"fas fa-pen-to-square","data-id":u.id},null,8,Xt)],8,Wt)):m("",!0),h("   "),s.canDeleteTaux?(n(),r("a",{key:1,class:"btn btn-sm btn-danger",onClick:t[6]||(t[6]=f((...x)=>a.supprimerValeur&&a.supprimerValeur(...x),["prevent"])),"data-id":u.id},[e("i",{class:"fas fa-trash-can","data-id":u.id},null,8,Zt)],8,Yt)):m("",!0)])])])]))),256))]),s.canEditTaux?(n(),r("a",{key:0,href:o.ajoutValeurUrl,class:"btn btn-primary btn-sm",onClick:t[7]||(t[7]=f((...u)=>a.ajoutValeur&&a.ajoutValeur(...u),["prevent"]))},[p(l,{name:"plus"})],8,ei)):m("",!0)]),e("div",ti,[h(" Valeurs calculées (indexées sur le taux "+c(s.taux.tauxRemu.libelle)+") : ",1),e("ul",null,[(n(!0),r(b,null,T(s.taux.tauxRemuValeursIndex,u=>(n(),r("div",null,[e("li",null,c(u.valeur)+"€/h à partir du "+c(u.date),1)]))),256))]),ii])])):m("",!0)])],2),s.taux.tauxRemu?m("",!0):(n(),r("div",si,[(n(!0),r(b,null,T(s.listeTaux,u=>(n(),r("div",{key:u},[u.tauxRemu&&u.tauxRemu.id===s.taux.id?(n(),r("div",ai,[(n(),S(v,{onSupprimer:a.supprimer,onRefreshListe:a.refreshListe,key:s.taux.id,taux:u,listeTaux:s.listeTaux,canEditTaux:s.canEditTaux,canDeleteTaux:s.canDeleteTaux},null,8,["onSupprimer","onRefreshListe","taux","listeTaux","canEditTaux","canDeleteTaux"]))])):m("",!0)]))),128))]))],64)}const w=y(jt,[["render",ni]]),ri=Object.freeze(Object.defineProperty({__proto__:null,default:w},Symbol.toStringTag,{value:"Module"})),li={components:{taux:w},props:{canEditTaux:{type:Boolean,required:!0},canDeleteTaux:{type:Boolean,required:!0}},data(){return{listeTaux:[],ajoutUrl:Util.url("taux/saisir")}},mounted(){this.reload()},methods:{ajout(i){modAjax(i.target,t=>{this.reload()})},supprimer(){this.reload()},refreshListe(){this.reload()},refresh(i){let t=Util.json.indexById(this.listeTaux,i.id);this.listeTaux[t]=i},reload(){axios.get(Util.url("taux/liste-taux")).then(i=>{this.listeTaux=i.data})}}},oi=["href"];function ui(i,t,s,_,o,a){const l=k("taux");return n(),r(b,null,[(n(!0),r(b,null,T(o.listeTaux,v=>(n(),r("div",null,[v.tauxRemu?m("",!0):(n(),S(l,{onSupprimer:a.supprimer,onRefreshListe:a.refreshListe,key:v.id,taux:v,listeTaux:o.listeTaux,canEditTaux:s.canEditTaux,canDeleteTaux:s.canDeleteTaux},null,8,["onSupprimer","onRefreshListe","taux","listeTaux","canEditTaux","canDeleteTaux"]))]))),256)),s.canEditTaux?(n(),r("a",{key:0,class:"btn btn-primary",href:o.ajoutUrl,onClick:t[0]||(t[0]=f((...v)=>a.ajout&&a.ajout(...v),["prevent"]))},"Ajout d'un nouveau taux",8,oi)):m("",!0)],64)}const di=y(li,[["render",ui]]),ci=Object.freeze(Object.defineProperty({__proto__:null,default:di},Symbol.toStringTag,{value:"Module"})),D={uIcon:"Application/UI/UIcon",uHeures:"Application/UI/UHeures",uModal:"Application/UI/UModal",utilisateur:"Application/Utilisateur"},A=Object.assign({"./Application/UI/UHeures.vue":F,"./Application/UI/UIcon.vue":G,"./Application/UI/UModal.vue":re,"./Application/Utilisateur.vue":ce,"./Intervenant/Recherche.vue":He,"./Mission/Liste.vue":St,"./Mission/Mission.vue":gt,"./Paiement/ListeTaux.vue":ci,"./Paiement/Taux.vue":ri});let mi="./";const R={};for(const i in A){let s=i.slice(mi.length,-4).replace("/","");R[s]=A[i].default}for(const i of document.getElementsByClassName("vue-app")){let t=E({template:i.innerHTML,components:R});for(const s in D){let _=D[s].replace("/","");t.component(s,R[_])}t.mount(i)}
